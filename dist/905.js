/*! For license information please see 905.js.LICENSE.txt */
"use strict";(self.webpackChunkumbrachat=self.webpackChunkumbrachat||[]).push([[905],{5260:(e,t,n)=>{n.d(t,{T:()=>l,i:()=>o,w:()=>a});var r=n(7294),i=n(6751),o=(n(6797),n(7278),!0),s=r.createContext("undefined"!=typeof HTMLElement?(0,i.Z)({key:"css"}):null);s.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(a=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},917:(e,t,n)=>{n.d(t,{F4:()=>u,iv:()=>c,xB:()=>l});var r=n(5260),i=n(7294),o=n(444),s=n(7278),a=n(6797),l=(n(6751),n(8679),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.O)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,h=l.styles,d=l.next;void 0!==d;)u+=" "+d.name,h+=d.styles,d=d.next;var p=!0===t.compat,f=t.insert("",{name:u,styles:h},t.sheet,p);return p?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:f},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,s.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,s.j)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.My)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.O)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},7278:(e,t,n)=>{var r;n.d(t,{L:()=>s,j:()=>a});var i=n(7294),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},4444:(e,t,n)=>{n.d(t,{BH:()=>p,G6:()=>b,L:()=>s,LL:()=>S,P0:()=>u,Pz:()=>d,Sg:()=>f,ZR:()=>_,aH:()=>h,b$:()=>y,eu:()=>T,hl:()=>E,m9:()=>M,ne:()=>N,pd:()=>A,q4:()=>c,ru:()=>v,tV:()=>a,uI:()=>g,vZ:()=>k,w1:()=>w,xO:()=>R,xb:()=>C,z$:()=>m,zd:()=>P});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=i>>2,u=(3&i)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==l)throw new o;const c=i<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},l=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},c=e=>{var t,n;return null===(n=null===(t=l())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},u=e=>{const t=c(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=l())||void 0===e?void 0:e.config},d=e=>{var t;return null===(t=l())||void 0===t?void 0:t[`_${e}`]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function v(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return!function(){var e;const t=null===(e=l())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){try{return"object"==typeof indexedDB}catch(e){return!1}}function T(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new _(r,s,n)}}const I=/\{\$([^}]+)}/g;function C(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(x(n)&&x(o)){if(!k(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function x(e){return null!==e&&"object"==typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function A(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function N(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function M(e){return e&&e._delegate?e._delegate:e}},8385:(e,t,n)=>{n.d(t,{h:()=>c});var r=n(7294),i=n(3935),o=n(3703),s=n(3546),a=n(7960),l=n(5893);const c=r.forwardRef((function(e,t){const{children:n,container:c,disablePortal:u=!1}=e,[h,d]=r.useState(null),p=(0,o.Z)(r.isValidElement(n)?n.ref:null,t);if((0,s.Z)((()=>{u||d(function(e){return"function"==typeof e?e():e}(c)||document.body)}),[c,u]),(0,s.Z)((()=>{if(h&&!u)return(0,a.Z)(t,h),()=>{(0,a.Z)(t,null)}}),[t,h,u]),u){if(r.isValidElement(n)){const e={ref:p};return r.cloneElement(n,e)}return(0,l.jsx)(r.Fragment,{children:n})}return(0,l.jsx)(r.Fragment,{children:h?i.createPortal(n,h):h})}))},238:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(7462),i=n(8442);function o(e,t,n){return void 0===e||(0,i.X)(e)?t:(0,r.Z)({},t,{ownerState:(0,r.Z)({},t.ownerState,n)})}},437:(e,t,n)=>{function r(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}n.d(t,{_:()=>r})},8442:(e,t,n)=>{function r(e){return"string"==typeof e}n.d(t,{X:()=>r})},8542:(e,t,n)=>{n.d(t,{y:()=>h});var r=n(7462),i=n(3366),o=n(3703),s=n(238),a=n(512),l=n(437);function c(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const u=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function h(e){var t;const{elementType:n,externalSlotProps:h,ownerState:d,skipResolvingSlotProps:p=!1}=e,f=(0,i.Z)(e,u),m=p?{}:function(e,t,n){return"function"==typeof e?e(t,void 0):e}(h,d),{props:g,internalRef:v}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:s}=e;if(!t){const e=(0,a.Z)(null==n?void 0:n.className,s,null==o?void 0:o.className,null==i?void 0:i.className),t=(0,r.Z)({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),l=(0,r.Z)({},n,o,i);return e.length>0&&(l.className=e),Object.keys(t).length>0&&(l.style=t),{props:l,internalRef:void 0}}const u=(0,l._)((0,r.Z)({},o,i)),h=c(i),d=c(o),p=t(u),f=(0,a.Z)(null==p?void 0:p.className,null==n?void 0:n.className,s,null==o?void 0:o.className,null==i?void 0:i.className),m=(0,r.Z)({},null==p?void 0:p.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),g=(0,r.Z)({},p,n,d,h);return f.length>0&&(g.className=f),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:p.ref}}((0,r.Z)({},f,{externalSlotProps:m})),y=(0,o.Z)(v,null==m?void 0:m.ref,null==(t=e.additionalProps)?void 0:t.ref);return(0,s.$)(n,(0,r.Z)({},g,{ref:y}),d)}},8309:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},3205:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},1023:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},8047:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined")},8037:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline")},594:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},8364:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},3903:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"Drafts")},891:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},6451:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8zm-1 7V3.5L18.5 9zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen")},821:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zM6 4h7l5 5v8.58l-1.84-1.84c1.28-1.94 1.07-4.57-.64-6.28C14.55 8.49 13.28 8 12 8c-1.28 0-2.55.49-3.53 1.46-1.95 1.95-1.95 5.11 0 7.05.97.97 2.25 1.46 3.53 1.46.96 0 1.92-.28 2.75-.83L17.6 20H6zm8.11 11.1c-.56.56-1.31.88-2.11.88s-1.55-.31-2.11-.88c-.56-.56-.88-1.31-.88-2.11s.31-1.55.88-2.11c.56-.57 1.31-.88 2.11-.88s1.55.31 2.11.88c.56.56.88 1.31.88 2.11s-.31 1.55-.88 2.11"}),"FindInPageOutlined")},9535:(e,t,n)=>{var r=n(4836);t.Z=void 0,function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r)}(n(7294));var i=r(n(4938)),o=n(5893);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google")},9469:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M21 10h-8.35C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3"}),"Key")},9844:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)([(0,o.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h6.26c-.79-1.13-1.26-2.51-1.26-4 0-3.87 3.13-7 7-7M8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9z"},"0"),(0,o.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0 2c.83 0 1.5.67 1.5 1.5S18.83 18 18 18s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m0 6c-1.03 0-1.94-.52-2.48-1.32.73-.42 1.57-.68 2.48-.68s1.75.26 2.48.68c-.54.8-1.45 1.32-2.48 1.32"},"1")],"LockPerson")},8567:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"}),"LockReset")},3319:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)([(0,o.jsx)("path",{d:"M22 9.97V6c0-1.1-.9-2-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h12v-5.03c0-2.76 2.24-5 5-5zM20 8l-8 5-8-5V6l8 5 8-5z"},"0"),(0,o.jsx)("path",{d:"M23 15v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z"},"1")],"MailLock")},8557:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z"}),"Password")},3067:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66M10 12h4c1.66 0 3-1.34 3-3 0-.73-.27-1.4-.71-1.92.13-.33.21-.7.21-1.08 0-1.25-.77-2.32-1.86-2.77C14 2.48 13.06 2 12 2s-2 .48-2.64 1.23C8.27 3.68 7.5 4.75 7.5 6c0 .38.08.75.21 1.08C7.27 7.6 7 8.27 7 9c0 1.66 1.34 3 3 3"}),"Person3")},4930:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66M12 12c2.21 0 4-1.79 4-4V4.5c0-.83-.67-1.5-1.5-1.5-.52 0-.98.27-1.25.67-.27-.4-.73-.67-1.25-.67s-.98.27-1.25.67c-.27-.4-.73-.67-1.25-.67C8.67 3 8 3.67 8 4.5V8c0 2.21 1.79 4 4 4"}),"Person4")},336:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle")},2761:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},6307:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},9769:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)([(0,o.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,o.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,o.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")],"SentimentVeryDissatisfied")},9331:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings")},2961:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},2450:(e,t,n)=>{var r=n(4836);t.Z=void 0;var i=r(n(4938)),o=n(5893);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},7109:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(948),c=n(6122),u=n(5949),h=n(5893);const d=(0,u.Z)((0,h.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=n(1588),f=n(4867);function m(e){return(0,f.ZP)("MuiAvatar",e)}(0,p.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const g=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],v=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((({theme:e,ownerState:t})=>(0,i.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,i.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]})))),y=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),w=(0,l.ZP)(d,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),b=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiAvatar"}),{alt:l,children:u,className:d,component:p="div",imgProps:f,sizes:b,src:E,srcSet:T,variant:_="circular"}=n,S=(0,r.Z)(n,g);let I=null;const C=function({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,s]=o.useState(!1);return o.useEffect((()=>{if(!n&&!r)return;s(!1);let i=!0;const o=new Image;return o.onload=()=>{i&&s("loaded")},o.onerror=()=>{i&&s("error")},o.crossOrigin=e,o.referrerPolicy=t,o.src=n,r&&(o.srcset=r),()=>{i=!1}}),[e,t,n,r]),i}((0,i.Z)({},f,{src:E,srcSet:T})),k=E||T,x=k&&"error"!==C,R=(0,i.Z)({},n,{colorDefault:!x,component:p,variant:_}),P=(e=>{const{classes:t,variant:n,colorDefault:r}=e,i={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,a.Z)(i,m,t)})(R);return I=x?(0,h.jsx)(y,(0,i.Z)({alt:l,srcSet:T,src:E,sizes:b,ownerState:R,className:P.img},f)):null!=u?u:k&&l?l[0]:(0,h.jsx)(w,{ownerState:R,className:P.fallback}),(0,h.jsx)(v,(0,i.Z)({as:p,ownerState:R,className:(0,s.Z)(P.root,d),ref:t},S,{children:I}))}))},3906:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(7462),i=n(3366),o=n(7294),s=n(512),a=n(9378),l=n(6523),c=n(9707),u=n(6682),h=n(5893);const d=["className","component"];var p=n(7078),f=n(9617),m=n(606);const g=(0,n(1588).Z)("MuiBox",["root"]),v=(0,f.Z)(),y=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:p="MuiBox-root",generateClassName:f}=e,m=(0,a.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.Z);return o.forwardRef((function(e,o){const a=(0,u.Z)(n),l=(0,c.Z)(e),{className:g,component:v="div"}=l,y=(0,i.Z)(l,d);return(0,h.jsx)(m,(0,r.Z)({as:v,ref:o,className:(0,s.Z)(g,f?f(p):p),theme:t&&a[t]||a},y))}))}({themeId:m.Z,defaultTheme:v,defaultClassName:g.root,generateClassName:p.Z.generate}),w=y},4212:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(2283),c=n(2207),u=n(5949),h=n(5893);const d=(0,u.Z)((0,h.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,u.Z)((0,h.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=(0,u.Z)((0,h.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var m=n(8216),g=n(6122),v=n(948),y=n(1588),w=n(4867);function b(e){return(0,w.ZP)("MuiCheckbox",e)}const E=(0,y.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),T=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],_=(0,v.ZP)(c.Z,{shouldForwardProp:e=>(0,v.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,m.Z)(n.size)}`],"default"!==n.color&&t[`color${(0,m.Z)(n.color)}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${"default"===t.color?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${E.checked}, &.${E.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${E.disabled}`]:{color:(e.vars||e).palette.action.disabled}}))),S=(0,h.jsx)(p,{}),I=(0,h.jsx)(d,{}),C=(0,h.jsx)(f,{}),k=o.forwardRef((function(e,t){var n,l;const c=(0,g.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:u=S,color:d="primary",icon:p=I,indeterminate:f=!1,indeterminateIcon:v=C,inputProps:y,size:w="medium",className:E}=c,k=(0,r.Z)(c,T),x=f?v:p,R=f?v:u,P=(0,i.Z)({},c,{color:d,indeterminate:f,size:w}),A=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,s={root:["root",n&&"indeterminate",`color${(0,m.Z)(r)}`,`size${(0,m.Z)(o)}`]},l=(0,a.Z)(s,b,t);return(0,i.Z)({},t,l)})(P);return(0,h.jsx)(_,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":f},y),icon:o.cloneElement(x,{fontSize:null!=(n=x.props.fontSize)?n:w}),checkedIcon:o.cloneElement(R,{fontSize:null!=(l=R.props.fontSize)?l:w}),ownerState:P,ref:t,className:(0,s.Z)(A.root,E)},k,{classes:A}))}))},9062:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(917),c=n(8216),u=n(6122),h=n(948),d=n(1588),p=n(4867);function f(e){return(0,p.ZP)("MuiCircularProgress",e)}(0,d.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m=n(5893);const g=["className","color","disableShrink","size","style","thickness","value","variant"];let v,y,w,b,E=e=>e;const T=(0,l.F4)(v||(v=E`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),_=(0,l.F4)(y||(y=E`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,c.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(w||(w=E`
      animation: ${0} 1.4s linear infinite;
    `),T))),I=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,c.Z)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(b||(b=E`
      animation: ${0} 1.4s ease-in-out infinite;
    `),_))),k=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:l="primary",disableShrink:h=!1,size:d=40,style:p,thickness:v=3.6,value:y=0,variant:w="indeterminate"}=n,b=(0,r.Z)(n,g),E=(0,i.Z)({},n,{color:l,disableShrink:h,size:d,thickness:v,value:y,variant:w}),T=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${(0,c.Z)(r)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(n)}`,i&&"circleDisableShrink"]};return(0,a.Z)(o,f,t)})(E),_={},k={},x={};if("determinate"===w){const e=2*Math.PI*((44-v)/2);_.strokeDasharray=e.toFixed(3),x["aria-valuenow"]=Math.round(y),_.strokeDashoffset=`${((100-y)/100*e).toFixed(3)}px`,k.transform="rotate(-90deg)"}return(0,m.jsx)(S,(0,i.Z)({className:(0,s.Z)(T.root,o),style:(0,i.Z)({width:d,height:d},k,p),ownerState:E,ref:t,role:"progressbar"},x,b,{children:(0,m.jsx)(I,{className:T.svg,ownerState:E,viewBox:"22 22 44 44",children:(0,m.jsx)(C,{className:T.circle,style:_,ownerState:E,cx:44,cy:44,r:(44-v)/2,fill:"none",strokeWidth:v})})}))}))},7167:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(7294).createContext(void 0)},4423:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294),i=n(7167);function o(){return r.useContext(i.Z)}},6514:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(7462),i=n(3366),o=n(7294),s=n(8052),a=n(2734),l=n(577),c=n(1705),u=n(5893);const h=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d(e){return`scale(${e}, ${e**2})`}const p={entering:{opacity:1,transform:d(1)},entered:{opacity:1,transform:"none"}},f="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m=o.forwardRef((function(e,t){const{addEndListener:n,appear:m=!0,children:g,easing:v,in:y,onEnter:w,onEntered:b,onEntering:E,onExit:T,onExited:_,onExiting:S,style:I,timeout:C="auto",TransitionComponent:k=s.ZP}=e,x=(0,i.Z)(e,h),R=o.useRef(),P=o.useRef(),A=(0,a.Z)(),N=o.useRef(null),O=(0,c.Z)(N,g.ref,t),D=e=>t=>{if(e){const n=N.current;void 0===t?e(n):e(n,t)}},M=D(E),L=D(((e,t)=>{(0,l.n)(e);const{duration:n,delay:r,easing:i}=(0,l.C)({style:I,timeout:C,easing:v},{mode:"enter"});let o;"auto"===C?(o=A.transitions.getAutoHeightDuration(e.clientHeight),P.current=o):o=n,e.style.transition=[A.transitions.create("opacity",{duration:o,delay:r}),A.transitions.create("transform",{duration:f?o:.666*o,delay:r,easing:i})].join(","),w&&w(e,t)})),F=D(b),Z=D(S),U=D((e=>{const{duration:t,delay:n,easing:r}=(0,l.C)({style:I,timeout:C,easing:v},{mode:"exit"});let i;"auto"===C?(i=A.transitions.getAutoHeightDuration(e.clientHeight),P.current=i):i=t,e.style.transition=[A.transitions.create("opacity",{duration:i,delay:n}),A.transitions.create("transform",{duration:f?i:.666*i,delay:f?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=d(.75),T&&T(e)})),V=D(_);return o.useEffect((()=>()=>{clearTimeout(R.current)}),[]),(0,u.jsx)(k,(0,r.Z)({appear:m,in:y,nodeRef:N,onEnter:L,onEntered:F,onEntering:M,onExit:U,onExited:V,onExiting:Z,addEndListener:e=>{"auto"===C&&(R.current=setTimeout(e,P.current||0)),n&&n(N.current,e)},timeout:"auto"===C?null:C},x,{children:(e,t)=>o.cloneElement(g,(0,r.Z)({style:(0,r.Z)({opacity:0,transform:d(.75),visibility:"exited"!==e||y?void 0:"hidden"},p[e],I,g.props.style),ref:O},t))}))}));m.muiSupportAuto=!0;const g=m},270:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(8216),c=n(2658),u=n(7167),h=n(4423),d=n(948),p=n(1588),f=n(4867);function m(e){return(0,f.ZP)("MuiInputAdornment",e)}const g=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v,y=n(6122),w=n(5893);const b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],E=(0,d.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,l.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${g.positionStart}&:not(.${g.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),T=o.forwardRef((function(e,t){const n=(0,y.Z)({props:e,name:"MuiInputAdornment"}),{children:d,className:p,component:f="div",disablePointerEvents:g=!1,disableTypography:T=!1,position:_,variant:S}=n,I=(0,r.Z)(n,b),C=(0,h.Z)()||{};let k=S;S&&C.variant,C&&!k&&(k=C.variant);const x=(0,i.Z)({},n,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:g,position:_,variant:k}),R=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=e,c={root:["root",n&&"disablePointerEvents",i&&`position${(0,l.Z)(i)}`,s,r&&"hiddenLabel",o&&`size${(0,l.Z)(o)}`]};return(0,a.Z)(c,m,t)})(x);return(0,w.jsx)(u.Z.Provider,{value:null,children:(0,w.jsx)(E,(0,i.Z)({as:f,ownerState:x,className:(0,s.Z)(R.root,p),ref:t},I,{children:"string"!=typeof d||T?(0,w.jsxs)(o.Fragment,{children:["start"===_?v||(v=(0,w.jsx)("span",{className:"notranslate",children:"â€‹"})):null,d]}):(0,w.jsx)(c.Z,{color:"text.secondary",children:d})}))})}))},3968:(e,t,n)=>{n.d(t,{Z:()=>D});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(917),c=n(2283),u=n(8216),h=n(2734),d=n(948),p=n(6122),f=n(1588),m=n(4867);function g(e){return(0,m.ZP)("MuiLinearProgress",e)}(0,f.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var v=n(5893);const y=["className","color","value","valueBuffer","variant"];let w,b,E,T,_,S,I=e=>e;const C=(0,l.F4)(w||(w=I`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),k=(0,l.F4)(b||(b=I`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),x=(0,l.F4)(E||(E=I`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),R=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,c.$n)(e.palette[t].main,.62):(0,c._j)(e.palette[t].main,.5),P=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${(0,u.Z)(n.color)}`],t[n.variant]]}})((({ownerState:e,theme:t})=>(0,i.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:R(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),A=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${(0,u.Z)(n.color)}`]]}})((({ownerState:e,theme:t})=>{const n=R(t,e.color);return(0,i.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,l.iv)(T||(T=I`
    animation: ${0} 3s infinite linear;
  `),x)),N=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,u.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,l.iv)(_||(_=I`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),C))),O=(0,d.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,u.Z)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>(0,i.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:R(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,l.iv)(S||(S=I`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),k))),D=o.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiLinearProgress"}),{className:o,color:l="primary",value:c,valueBuffer:d,variant:f="indeterminate"}=n,m=(0,r.Z)(n,y),w=(0,i.Z)({},n,{color:l,variant:f}),b=(e=>{const{classes:t,variant:n,color:r}=e,i={root:["root",`color${(0,u.Z)(r)}`,n],dashed:["dashed",`dashedColor${(0,u.Z)(r)}`],bar1:["bar",`barColor${(0,u.Z)(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${(0,u.Z)(r)}`,"buffer"===n&&`color${(0,u.Z)(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,a.Z)(i,g,t)})(w),E=(0,h.Z)(),T={},_={bar1:{},bar2:{}};if(("determinate"===f||"buffer"===f)&&void 0!==c){T["aria-valuenow"]=Math.round(c),T["aria-valuemin"]=0,T["aria-valuemax"]=100;let e=c-100;"rtl"===E.direction&&(e=-e),_.bar1.transform=`translateX(${e}%)`}if("buffer"===f&&void 0!==d){let e=(d||0)-100;"rtl"===E.direction&&(e=-e),_.bar2.transform=`translateX(${e}%)`}return(0,v.jsxs)(P,(0,i.Z)({className:(0,s.Z)(b.root,o),ownerState:w,role:"progressbar"},T,{ref:t},m,{children:["buffer"===f?(0,v.jsx)(A,{className:b.dashed,ownerState:w}):null,(0,v.jsx)(N,{className:b.bar1,ownerState:w,style:_.bar1}),"determinate"===f?null:(0,v.jsx)(O,{className:b.bar2,ownerState:w,style:_.bar2})]}))}))},9916:(e,t,n)=>{n.d(t,{Z:()=>W});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(8542),l=n(3703),c=n(2690),u=n(9948),h=n(9064),d=n(437),p=n(4161),f=n(5806);function m(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function g(e){return parseInt((0,p.Z)(e).getComputedStyle(e).paddingRight,10)||0}function v(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&m(e,i)}))}function y(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}const w=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&m(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);v(t,e.mount,e.modalRef,r,!0);const i=y(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=y(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=function(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,c.Z)(e);return t.body===e?(0,p.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=(0,f.Z)((0,c.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${g(r)+e}px`;const t=(0,c.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${g(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,c.Z)(r).body;else{const t=r.parentElement,n=(0,p.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}(r,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const r=y(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&m(e.modalRef,t),v(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&m(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};var b=n(4780),E=n(5893);const T=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _(e){const t=[],n=[];return Array.from(e.querySelectorAll(T)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function S(){return!0}function I(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=_,isEnabled:a=S,open:u}=e,h=o.useRef(!1),d=o.useRef(null),p=o.useRef(null),f=o.useRef(null),m=o.useRef(null),g=o.useRef(!1),v=o.useRef(null),y=(0,l.Z)(t.ref,v),w=o.useRef(null);o.useEffect((()=>{u&&v.current&&(g.current=!n)}),[n,u]),o.useEffect((()=>{if(!u||!v.current)return;const e=(0,c.Z)(v.current);return v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(f.current&&f.current.focus&&(h.current=!0,f.current.focus()),f.current=null)}}),[u]),o.useEffect((()=>{if(!u||!v.current)return;const e=(0,c.Z)(v.current),t=t=>{w.current=t,!r&&a()&&"Tab"===t.key&&e.activeElement===v.current&&t.shiftKey&&(h.current=!0,p.current&&p.current.focus())},n=()=>{const t=v.current;if(null===t)return;if(!e.hasFocus()||!a()||h.current)return void(h.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==d.current&&e.activeElement!==p.current)return;if(e.activeElement!==m.current)m.current=null;else if(null!==m.current)return;if(!g.current)return;let n=[];if(e.activeElement!==d.current&&e.activeElement!==p.current||(n=s(v.current)),n.length>0){var i,o;const e=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(o=w.current)?void 0:o.key)),t=n[0],r=n[n.length-1];"string"!=typeof t&&"string"!=typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,i,a,u,s]);const b=e=>{null===f.current&&(f.current=e.relatedTarget),g.current=!0};return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)("div",{tabIndex:u?0:-1,onFocus:b,ref:d,"data-testid":"sentinelStart"}),o.cloneElement(t,{ref:y,onFocus:e=>{null===f.current&&(f.current=e.relatedTarget),g.current=!0,m.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,E.jsx)("div",{tabIndex:u?0:-1,onFocus:b,ref:p,"data-testid":"sentinelEnd"})]})}var C=n(8385),k=n(948),x=n(6122),R=n(8052),P=n(2734),A=n(577),N=n(1705);const O=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],D={entering:{opacity:1},entered:{opacity:1}},M=o.forwardRef((function(e,t){const n=(0,P.Z)(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:u,in:h,onEnter:d,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:w=s,TransitionComponent:b=R.ZP}=e,T=(0,r.Z)(e,O),_=o.useRef(null),S=(0,N.Z)(_,c.ref,t),I=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},C=I(f),k=I(((e,t)=>{(0,A.n)(e);const r=(0,A.C)({style:y,timeout:w,easing:u},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)})),x=I(p),M=I(v),L=I((e=>{const t=(0,A.C)({style:y,timeout:w,easing:u},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)})),F=I(g);return(0,E.jsx)(b,(0,i.Z)({appear:l,in:h,nodeRef:_,onEnter:k,onEntered:x,onEntering:C,onExit:L,onExited:F,onExiting:M,addEndListener:e=>{a&&a(_.current,e)},timeout:w},T,{children:(e,t)=>o.cloneElement(c,(0,i.Z)({style:(0,i.Z)({opacity:0,visibility:"exited"!==e||h?void 0:"hidden"},D[e],y,c.props.style),ref:S},t))}))}));var L=n(1588),F=n(4867);function Z(e){return(0,F.ZP)("MuiBackdrop",e)}(0,L.Z)("MuiBackdrop",["root","invisible"]);const U=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],V=(0,k.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}))),j=o.forwardRef((function(e,t){var n,o,a;const l=(0,x.Z)({props:e,name:"MuiBackdrop"}),{children:c,className:u,component:h="div",components:d={},componentsProps:p={},invisible:f=!1,open:m,slotProps:g={},slots:v={},TransitionComponent:y=M,transitionDuration:w}=l,T=(0,r.Z)(l,U),_=(0,i.Z)({},l,{component:h,invisible:f}),S=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,b.Z)(r,Z,t)})(_),I=null!=(n=g.root)?n:p.root;return(0,E.jsx)(y,(0,i.Z)({in:m,timeout:w},T,{children:(0,E.jsx)(V,(0,i.Z)({"aria-hidden":!0},I,{as:null!=(o=null!=(a=v.root)?a:d.Root)?o:h,className:(0,s.Z)(S.root,u,null==I?void 0:I.className),ownerState:(0,i.Z)({},_,null==I?void 0:I.ownerState),classes:S,ref:t,children:c}))}))}));function B(e){return(0,F.ZP)("MuiModal",e)}(0,L.Z)("MuiModal",["root","hidden","backdrop"]);const z=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],$=(0,k.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,i.Z)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),q=(0,k.ZP)(j,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),W=o.forwardRef((function(e,t){var n,p,f,g,v,y;const T=(0,x.Z)({name:"MuiModal",props:e}),{BackdropComponent:_=q,BackdropProps:S,className:k,closeAfterTransition:R=!1,children:P,container:A,component:N,components:O={},componentsProps:D={},disableAutoFocus:M=!1,disableEnforceFocus:L=!1,disableEscapeKeyDown:F=!1,disablePortal:Z=!1,disableRestoreFocus:U=!1,disableScrollLock:V=!1,hideBackdrop:j=!1,keepMounted:W=!1,onBackdropClick:H,open:K,slotProps:G,slots:Q}=T,J=(0,r.Z)(T,z),X=(0,i.Z)({},T,{closeAfterTransition:R,disableAutoFocus:M,disableEnforceFocus:L,disableEscapeKeyDown:F,disablePortal:Z,disableRestoreFocus:U,disableScrollLock:V,hideBackdrop:j,keepMounted:W}),{getRootProps:Y,getBackdropProps:ee,getTransitionProps:te,portalRef:ne,isTopModal:re,exited:ie,hasTransition:oe}=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=w,closeAfterTransition:a=!1,onTransitionEnter:p,onTransitionExited:f,children:g,onClose:v,open:y,rootRef:b}=e,E=o.useRef({}),T=o.useRef(null),_=o.useRef(null),S=(0,l.Z)(_,b),[I,C]=o.useState(!y),k=function(e){return!!e&&e.props.hasOwnProperty("in")}(g);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const R=()=>(E.current.modalRef=_.current,E.current.mount=T.current,E.current),P=()=>{s.mount(R(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},A=(0,u.Z)((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||(0,c.Z)(T.current).body;s.add(R(),e),_.current&&P()})),N=o.useCallback((()=>s.isTopModal(R())),[s]),O=(0,u.Z)((e=>{T.current=e,e&&(y&&N()?P():_.current&&m(_.current,x))})),D=o.useCallback((()=>{s.remove(R(),x)}),[x,s]);o.useEffect((()=>()=>{D()}),[D]),o.useEffect((()=>{y?A():k&&a||D()}),[y,D,k,a,A]);const M=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&N()&&(n||(t.stopPropagation(),v&&v(t,"escapeKeyDown")))},L=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&v&&v(t,"backdropClick")};return{getRootProps:(t={})=>{const n=(0,d._)(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,i.Z)({},n,t);return(0,i.Z)({role:"presentation"},r,{onKeyDown:M(r),ref:S})},getBackdropProps:(e={})=>{const t=e;return(0,i.Z)({"aria-hidden":!0},t,{onClick:L(t),open:y})},getTransitionProps:()=>({onEnter:(0,h.Z)((()=>{C(!1),p&&p()}),null==g?void 0:g.props.onEnter),onExited:(0,h.Z)((()=>{C(!0),f&&f(),a&&D()}),null==g?void 0:g.props.onExited)}),rootRef:S,portalRef:O,isTopModal:N,exited:I,hasTransition:k}}((0,i.Z)({},X,{rootRef:t})),se=(0,i.Z)({},X,{exited:ie}),ae=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,b.Z)(i,B,r)})(se),le={};if(void 0===P.props.tabIndex&&(le.tabIndex="-1"),oe){const{onEnter:e,onExited:t}=te();le.onEnter=e,le.onExited=t}const ce=null!=(n=null!=(p=null==Q?void 0:Q.root)?p:O.Root)?n:$,ue=null!=(f=null!=(g=null==Q?void 0:Q.backdrop)?g:O.Backdrop)?f:_,he=null!=(v=null==G?void 0:G.root)?v:D.root,de=null!=(y=null==G?void 0:G.backdrop)?y:D.backdrop,pe=(0,a.y)({elementType:ce,externalSlotProps:he,externalForwardedProps:J,getSlotProps:Y,additionalProps:{ref:t,as:N},ownerState:se,className:(0,s.Z)(k,null==he?void 0:he.className,null==ae?void 0:ae.root,!se.open&&se.exited&&(null==ae?void 0:ae.hidden))}),fe=(0,a.y)({elementType:ue,externalSlotProps:de,additionalProps:S,getSlotProps:e=>ee((0,i.Z)({},e,{onClick:t=>{H&&H(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,s.Z)(null==de?void 0:de.className,null==S?void 0:S.className,null==ae?void 0:ae.backdrop),ownerState:se});return W||K||oe&&!ie?(0,E.jsx)(C.h,{ref:ne,container:A,disablePortal:Z,children:(0,E.jsxs)(ce,(0,i.Z)({},pe,{children:[!j&&_?(0,E.jsx)(ue,(0,i.Z)({},fe)):null,(0,E.jsx)(I,{disableEnforceFocus:L,disableAutoFocus:M,disableRestoreFocus:U,isEnabled:re,open:K,children:o.cloneElement(P,le)})]}))}):null}))},9149:(e,t,n)=>{n.d(t,{Z:()=>_});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(2283),c=n(8216),u=n(2207),h=n(6122),d=n(948),p=n(1588),f=n(4867);function m(e){return(0,f.ZP)("MuiSwitch",e)}const g=(0,p.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var v=n(5893);const y=["className","color","edge","size","sx"],w=(0,d.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,c.Z)(n.edge)}`],t[`size${(0,c.Z)(n.size)}`]]}})((({ownerState:e})=>(0,i.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===e.edge&&{marginLeft:-8},"end"===e.edge&&{marginRight:-8},"small"===e.size&&{width:40,height:24,padding:7,[`& .${g.thumb}`]:{width:16,height:16},[`& .${g.switchBase}`]:{padding:4,[`&.${g.checked}`]:{transform:"translateX(16px)"}}}))),b=(0,d.ZP)(u.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${g.input}`]:t.input},"default"!==n.color&&t[`color${(0,c.Z)(n.color)}`]]}})((({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${"light"===e.palette.mode?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${g.checked}`]:{transform:"translateX(20px)"},[`&.${g.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${g.checked} + .${g.track}`]:{opacity:.5},[`&.${g.disabled} + .${g.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:""+("light"===e.palette.mode?.12:.2)},[`& .${g.input}`]:{left:"-100%",width:"300%"}})),(({theme:e,ownerState:t})=>(0,i.Z)({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${g.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${g.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${"light"===e.palette.mode?(0,l.$n)(e.palette[t.color].main,.62):(0,l._j)(e.palette[t.color].main,.55)}`}},[`&.${g.checked} + .${g.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}}))),E=(0,d.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e})=>({height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${"light"===e.palette.mode?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:""+("light"===e.palette.mode?.38:.3)}))),T=(0,d.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),_=o.forwardRef((function(e,t){const n=(0,h.Z)({props:e,name:"MuiSwitch"}),{className:o,color:l="primary",edge:u=!1,size:d="medium",sx:p}=n,f=(0,r.Z)(n,y),g=(0,i.Z)({},n,{color:l,edge:u,size:d}),_=(e=>{const{classes:t,edge:n,size:r,color:o,checked:s,disabled:l}=e,u={root:["root",n&&`edge${(0,c.Z)(n)}`,`size${(0,c.Z)(r)}`],switchBase:["switchBase",`color${(0,c.Z)(o)}`,s&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=(0,a.Z)(u,m,t);return(0,i.Z)({},t,h)})(g),S=(0,v.jsx)(T,{className:_.thumb,ownerState:g});return(0,v.jsxs)(w,{className:(0,s.Z)(_.root,o),sx:p,ownerState:g,children:[(0,v.jsx)(b,(0,i.Z)({type:"checkbox",icon:S,checkedIcon:S,ref:t,ownerState:g},f,{classes:(0,i.Z)({},_,{root:_.switchBase})})),(0,v.jsx)(E,{className:_.track,ownerState:g})]})}))},1040:(e,t,n)=>{n.d(t,{Z:()=>Xt});var r=n(7462),i=n(3366),o=n(7294),s=n(512),a=n(4780),l=n(2996),c=n(948),u=n(6122),h=n(9766),d=n(6535),p=n(3935),f=n(3703),m=n(4161),g=n(3546),v=n(9336),y=n(5893);const w=["onChange","maxRows","minRows","style","value"];function b(e){return parseInt(e,10)||0}const E={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function T(e){return null==e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const _=o.forwardRef((function(e,t){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:c}=e,u=(0,i.Z)(e,w),{current:h}=o.useRef(null!=c),d=o.useRef(null),_=(0,f.Z)(t,d),S=o.useRef(null),I=o.useRef(0),[C,k]=o.useState({outerHeightStyle:0}),x=o.useCallback((()=>{const t=d.current,n=(0,m.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=S.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const i=n.boxSizing,o=b(n.paddingBottom)+b(n.paddingTop),l=b(n.borderBottomWidth)+b(n.borderTopWidth),c=r.scrollHeight;r.value="x";const u=r.scrollHeight;let h=c;return a&&(h=Math.max(Number(a)*u,h)),s&&(h=Math.min(Number(s)*u,h)),h=Math.max(h,u),{outerHeightStyle:h+("border-box"===i?o+l:0),overflow:Math.abs(h-c)<=1}}),[s,a,e.placeholder]),R=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return I.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(I.current+=1,{overflow:r,outerHeightStyle:n}):e},P=o.useCallback((()=>{const e=x();T(e)||k((t=>R(t,e)))}),[x]);return(0,g.Z)((()=>{const e=()=>{I.current=0,(()=>{const e=x();T(e)||p.flushSync((()=>{k((t=>R(t,e)))}))})()};const t=(0,v.Z)(e),n=d.current,r=(0,m.Z)(n);let i;return r.addEventListener("resize",t),"undefined"!=typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(n)),()=>{t.clear(),cancelAnimationFrame(undefined),r.removeEventListener("resize",t),i&&i.disconnect()}}),[x]),(0,g.Z)((()=>{P()})),o.useEffect((()=>{I.current=0}),[c]),(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)("textarea",(0,r.Z)({value:c,onChange:e=>{I.current=0,h||P(),n&&n(e)},ref:_,rows:a,style:(0,r.Z)({height:C.outerHeightStyle,overflow:C.overflow?"hidden":void 0},l)},u)),(0,y.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:(0,r.Z)({},E,l,{paddingTop:0,paddingBottom:0})})]})}));var S=n(8442);function I({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&void 0===e[r]&&(t[r]=n[r]),t)),{})}var C=n(7167),k=n(4423),x=n(8216),R=n(1705),P=n(8974),A=n(917);function N(e){const{styles:t,defaultTheme:n={}}=e,r="function"==typeof t?e=>{return t(null==(r=e)||0===Object.keys(r).length?n:e);var r}:t;return(0,y.jsx)(A.xB,{styles:r})}var O=n(6682);const D=function({styles:e,themeId:t,defaultTheme:n={}}){const r=(0,O.Z)(n),i="function"==typeof e?e(t&&r[t]||r):e;return(0,y.jsx)(N,{styles:i})};var M=n(247),L=n(606);const F=function(e){return(0,y.jsx)(D,(0,r.Z)({},e,{defaultTheme:M.Z,themeId:L.Z}))};function Z(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function U(e,t=!1){return e&&(Z(e.value)&&""!==e.value||t&&Z(e.defaultValue)&&""!==e.defaultValue)}var V=n(1588),j=n(4867);function B(e){return(0,j.ZP)("MuiInputBase",e)}const z=(0,V.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),$=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],q=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,x.Z)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},W=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},H=(0,c.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:q})((({theme:e,ownerState:t})=>(0,r.Z)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${z.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,r.Z)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),K=(0,c.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:W})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,i=(0,r.Z)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,r.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${z.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${z.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),G=(0,y.jsx)(F,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Q=o.forwardRef((function(e,t){var n;const l=(0,u.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:h,autoFocus:p,className:f,components:m={},componentsProps:g={},defaultValue:v,disabled:w,disableInjectingGlobalStyles:b,endAdornment:E,fullWidth:T=!1,id:A,inputComponent:N="input",inputProps:O={},inputRef:D,maxRows:M,minRows:L,multiline:F=!1,name:Z,onBlur:V,onChange:j,onClick:z,onFocus:q,onKeyDown:W,onKeyUp:Q,placeholder:J,readOnly:X,renderSuffix:Y,rows:ee,slotProps:te={},slots:ne={},startAdornment:re,type:ie="text",value:oe}=l,se=(0,i.Z)(l,$),ae=null!=O.value?O.value:oe,{current:le}=o.useRef(null!=ae),ce=o.useRef(),ue=o.useCallback((e=>{}),[]),he=(0,R.Z)(ce,D,O.ref,ue),[de,pe]=o.useState(!1),fe=(0,k.Z)(),me=I({props:l,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});me.focused=fe?fe.focused:de,o.useEffect((()=>{!fe&&w&&de&&(pe(!1),V&&V())}),[fe,w,de,V]);const ge=fe&&fe.onFilled,ve=fe&&fe.onEmpty,ye=o.useCallback((e=>{U(e)?ge&&ge():ve&&ve()}),[ge,ve]);(0,P.Z)((()=>{le&&ye({value:ae})}),[ae,ye,le]),o.useEffect((()=>{ye(ce.current)}),[]);let we=N,be=O;F&&"input"===we&&(be=ee?(0,r.Z)({type:void 0,minRows:ee,maxRows:ee},be):(0,r.Z)({type:void 0,maxRows:M,minRows:L},be),we=_),o.useEffect((()=>{fe&&fe.setAdornedStart(Boolean(re))}),[fe,re]);const Ee=(0,r.Z)({},l,{color:me.color||"primary",disabled:me.disabled,endAdornment:E,error:me.error,focused:me.focused,formControl:fe,fullWidth:T,hiddenLabel:me.hiddenLabel,multiline:F,size:me.size,startAdornment:re,type:ie}),Te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:c,hiddenLabel:u,multiline:h,readOnly:d,size:p,startAdornment:f,type:m}=e,g={root:["root",`color${(0,x.Z)(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",s&&"focused",l&&"formControl",p&&"medium"!==p&&`size${(0,x.Z)(p)}`,h&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===m&&"inputTypeSearch",h&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,a.Z)(g,B,t)})(Ee),_e=ne.root||m.Root||H,Se=te.root||g.root||{},Ie=ne.input||m.Input||K;return be=(0,r.Z)({},be,null!=(n=te.input)?n:g.input),(0,y.jsxs)(o.Fragment,{children:[!b&&G,(0,y.jsxs)(_e,(0,r.Z)({},Se,!(0,S.X)(_e)&&{ownerState:(0,r.Z)({},Ee,Se.ownerState)},{ref:t,onClick:e=>{ce.current&&e.currentTarget===e.target&&ce.current.focus(),z&&z(e)}},se,{className:(0,s.Z)(Te.root,Se.className,f,X&&"MuiInputBase-readOnly"),children:[re,(0,y.jsx)(C.Z.Provider,{value:null,children:(0,y.jsx)(Ie,(0,r.Z)({ownerState:Ee,"aria-invalid":me.error,"aria-describedby":c,autoComplete:h,autoFocus:p,defaultValue:v,disabled:me.disabled,id:A,onAnimationStart:e=>{ye("mui-auto-fill-cancel"===e.animationName?ce.current:{value:"x"})},name:Z,placeholder:J,readOnly:X,required:me.required,rows:ee,value:ae,onKeyDown:W,onKeyUp:Q,type:ie},be,!(0,S.X)(Ie)&&{as:we,ownerState:(0,r.Z)({},Ee,be.ownerState)},{ref:he,className:(0,s.Z)(Te.input,be.className,X&&"MuiInputBase-readOnly"),onBlur:e=>{V&&V(e),O.onBlur&&O.onBlur(e),fe&&fe.onBlur?fe.onBlur(e):pe(!1)},onChange:(e,...t)=>{if(!le){const t=e.target||ce.current;if(null==t)throw new Error((0,d.Z)(1));ye({value:t.value})}O.onChange&&O.onChange(e,...t),j&&j(e,...t)},onFocus:e=>{me.disabled?e.stopPropagation():(q&&q(e),O.onFocus&&O.onFocus(e),fe&&fe.onFocus?fe.onFocus(e):pe(!0))}}))}),E,Y?Y((0,r.Z)({},me,{startAdornment:re})):null]}))]})})),J=Q;function X(e){return(0,j.ZP)("MuiInput",e)}const Y=(0,r.Z)({},z,(0,V.Z)("MuiInput",["root","underline","input"])),ee=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],te=(0,c.ZP)(H,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...q(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,r.Z)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Y.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Y.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Y.disabled}, .${Y.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Y.disabled}:before`]:{borderBottomStyle:"dotted"}})})),ne=(0,c.ZP)(K,{name:"MuiInput",slot:"Input",overridesResolver:W})({}),re=o.forwardRef((function(e,t){var n,o,s,l;const c=(0,u.Z)({props:e,name:"MuiInput"}),{disableUnderline:d,components:p={},componentsProps:f,fullWidth:m=!1,inputComponent:g="input",multiline:v=!1,slotProps:w,slots:b={},type:E="text"}=c,T=(0,i.Z)(c,ee),_=(e=>{const{classes:t,disableUnderline:n}=e,i={root:["root",!n&&"underline"],input:["input"]},o=(0,a.Z)(i,X,t);return(0,r.Z)({},t,o)})(c),S={root:{ownerState:{disableUnderline:d}}},I=(null!=w?w:f)?(0,h.Z)(null!=w?w:f,S):S,C=null!=(n=null!=(o=b.root)?o:p.Root)?n:te,k=null!=(s=null!=(l=b.input)?l:p.Input)?s:ne;return(0,y.jsx)(J,(0,r.Z)({slots:{root:C,input:k},slotProps:I,fullWidth:m,inputComponent:g,multiline:v,ref:t,type:E},T,{classes:_}))}));re.muiName="Input";const ie=re;function oe(e){return(0,j.ZP)("MuiFilledInput",e)}const se=(0,r.Z)({},z,(0,V.Z)("MuiFilledInput",["root","underline","input"])),ae=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],le=(0,c.ZP)(H,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...q(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{var n;const i="light"===e.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,r.Z)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${se.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${se.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(n=(e.vars||e).palette[t.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${se.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${se.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${se.disabled}, .${se.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${se.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,r.Z)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))})),ce=(0,c.ZP)(K,{name:"MuiFilledInput",slot:"Input",overridesResolver:W})((({theme:e,ownerState:t})=>(0,r.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}))),ue=o.forwardRef((function(e,t){var n,o,s,l;const c=(0,u.Z)({props:e,name:"MuiFilledInput"}),{components:d={},componentsProps:p,fullWidth:f=!1,inputComponent:m="input",multiline:g=!1,slotProps:v,slots:w={},type:b="text"}=c,E=(0,i.Z)(c,ae),T=(0,r.Z)({},c,{fullWidth:f,inputComponent:m,multiline:g,type:b}),_=(e=>{const{classes:t,disableUnderline:n}=e,i={root:["root",!n&&"underline"],input:["input"]},o=(0,a.Z)(i,oe,t);return(0,r.Z)({},t,o)})(c),S={root:{ownerState:T},input:{ownerState:T}},I=(null!=v?v:p)?(0,h.Z)(S,null!=v?v:p):S,C=null!=(n=null!=(o=w.root)?o:d.Root)?n:le,k=null!=(s=null!=(l=w.input)?l:d.Input)?s:ce;return(0,y.jsx)(J,(0,r.Z)({slots:{root:C,input:k},componentsProps:I,fullWidth:f,inputComponent:m,multiline:g,ref:t,type:b},E,{classes:_}))}));ue.muiName="Input";const he=ue;var de;const pe=["children","classes","className","label","notched"],fe=(0,c.ZP)("fieldset",{shouldForwardProp:c.FO})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),me=(0,c.ZP)("legend",{shouldForwardProp:c.FO})((({ownerState:e,theme:t})=>(0,r.Z)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,r.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));function ge(e){return(0,j.ZP)("MuiOutlinedInput",e)}const ve=(0,r.Z)({},z,(0,V.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),ye=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],we=(0,c.ZP)(H,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:q})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.Z)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ve.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ve.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ve.focused} .${ve.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ve.error} .${ve.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ve.disabled} .${ve.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,r.Z)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),be=(0,c.ZP)((function(e){const{className:t,label:n,notched:o}=e,s=(0,i.Z)(e,pe),a=null!=n&&""!==n,l=(0,r.Z)({},e,{notched:o,withLabel:a});return(0,y.jsx)(fe,(0,r.Z)({"aria-hidden":!0,className:t,ownerState:l},s,{children:(0,y.jsx)(me,{ownerState:l,children:a?(0,y.jsx)("span",{children:n}):de||(de=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Ee=(0,c.ZP)(K,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:W})((({theme:e,ownerState:t})=>(0,r.Z)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),Te=o.forwardRef((function(e,t){var n,s,l,c,h;const d=(0,u.Z)({props:e,name:"MuiOutlinedInput"}),{components:p={},fullWidth:f=!1,inputComponent:m="input",label:g,multiline:v=!1,notched:w,slots:b={},type:E="text"}=d,T=(0,i.Z)(d,ye),_=(e=>{const{classes:t}=e,n=(0,a.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ge,t);return(0,r.Z)({},t,n)})(d),S=(0,k.Z)(),C=I({props:d,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,r.Z)({},d,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:f,hiddenLabel:C.hiddenLabel,multiline:v,size:C.size,type:E}),R=null!=(n=null!=(s=b.root)?s:p.Root)?n:we,P=null!=(l=null!=(c=b.input)?c:p.Input)?l:Ee;return(0,y.jsx)(J,(0,r.Z)({slots:{root:R,input:P},renderSuffix:e=>(0,y.jsx)(be,{ownerState:x,className:_.notchedOutline,label:null!=g&&""!==g&&C.required?h||(h=(0,y.jsxs)(o.Fragment,{children:[g,"â€‰","*"]})):g,notched:void 0!==w?w:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:f,inputComponent:m,multiline:v,ref:t,type:E},T,{classes:(0,r.Z)({},_,{notchedOutline:null})}))}));Te.muiName="Input";const _e=Te;function Se(e){return(0,j.ZP)("MuiFormLabel",e)}const Ie=(0,V.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ce=["children","className","color","component","disabled","error","filled","focused","required"],ke=(0,c.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,r.Z)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>(0,r.Z)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ie.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Ie.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Ie.error}`]:{color:(e.vars||e).palette.error.main}}))),xe=(0,c.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${Ie.error}`]:{color:(e.vars||e).palette.error.main}}))),Re=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormLabel"}),{children:o,className:l,component:c="label"}=n,h=(0,i.Z)(n,Ce),d=I({props:n,muiFormControl:(0,k.Z)(),states:["color","required","focused","disabled","error","filled"]}),p=(0,r.Z)({},n,{color:d.color||"primary",component:c,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:l}=e,c={root:["root",`color${(0,x.Z)(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return(0,a.Z)(c,Se,t)})(p);return(0,y.jsxs)(ke,(0,r.Z)({as:c,ownerState:p,className:(0,s.Z)(f.root,l),ref:t},h,{children:[o,d.required&&(0,y.jsxs)(xe,{ownerState:p,"aria-hidden":!0,className:f.asterisk,children:["â€‰","*"]})]}))}));function Pe(e){return(0,j.ZP)("MuiInputLabel",e)}(0,V.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Ae=["disableAnimation","margin","shrink","variant","className"],Ne=(0,c.ZP)(Re,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ie.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,r.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,r.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"})))),Oe=o.forwardRef((function(e,t){const n=(0,u.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,shrink:l,className:c}=n,h=(0,i.Z)(n,Ae),d=(0,k.Z)();let p=l;void 0===p&&d&&(p=d.filled||d.focused||d.adornedStart);const f=I({props:n,muiFormControl:d,states:["size","variant","required","focused"]}),m=(0,r.Z)({},n,{disableAnimation:o,formControl:d,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),g=(e=>{const{classes:t,formControl:n,size:i,shrink:o,disableAnimation:s,variant:l,required:c}=e,u={root:["root",n&&"formControl",!s&&"animated",o&&"shrink",i&&"normal"!==i&&`size${(0,x.Z)(i)}`,l],asterisk:[c&&"asterisk"]},h=(0,a.Z)(u,Pe,t);return(0,r.Z)({},t,h)})(m);return(0,y.jsx)(Ne,(0,r.Z)({"data-shrink":p,ownerState:m,ref:t,className:(0,s.Z)(g.root,c)},h,{classes:g}))}));var De=n(8502);function Me(e){return(0,j.ZP)("MuiFormControl",e)}(0,V.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Le=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Fe=(0,c.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,r.Z)({},t.root,t[`margin${(0,x.Z)(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,r.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}))),Ze=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormControl"}),{children:l,className:c,color:h="primary",component:d="div",disabled:p=!1,error:f=!1,focused:m,fullWidth:g=!1,hiddenLabel:v=!1,margin:w="none",required:b=!1,size:E="medium",variant:T="outlined"}=n,_=(0,i.Z)(n,Le),S=(0,r.Z)({},n,{color:h,component:d,disabled:p,error:f,fullWidth:g,hiddenLabel:v,margin:w,required:b,size:E,variant:T}),I=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&`margin${(0,x.Z)(n)}`,r&&"fullWidth"]};return(0,a.Z)(i,Me,t)})(S),[k,R]=o.useState((()=>{let e=!1;return l&&o.Children.forEach(l,(t=>{if(!(0,De.Z)(t,["Input","Select"]))return;const n=(0,De.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[P,A]=o.useState((()=>{let e=!1;return l&&o.Children.forEach(l,(t=>{(0,De.Z)(t,["Input","Select"])&&(U(t.props,!0)||U(t.props.inputProps,!0))&&(e=!0)})),e})),[N,O]=o.useState(!1);p&&N&&O(!1);const D=void 0===m||p?N:m;let M;const L=o.useMemo((()=>({adornedStart:k,setAdornedStart:R,color:h,disabled:p,error:f,filled:P,focused:D,fullWidth:g,hiddenLabel:v,size:E,onBlur:()=>{O(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{O(!0)},registerEffect:M,required:b,variant:T})),[k,h,p,f,P,D,g,v,M,b,E,T]);return(0,y.jsx)(C.Z.Provider,{value:L,children:(0,y.jsx)(Fe,(0,r.Z)({as:d,ownerState:S,className:(0,s.Z)(I.root,c),ref:t},_,{children:l}))})}));function Ue(e){return(0,j.ZP)("MuiFormHelperText",e)}const Ve=(0,V.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var je;const Be=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ze=(0,c.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,x.Z)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((({theme:e,ownerState:t})=>(0,r.Z)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ve.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Ve.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14}))),$e=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiFormHelperText"}),{children:o,className:l,component:c="p"}=n,h=(0,i.Z)(n,Be),d=I({props:n,muiFormControl:(0,k.Z)(),states:["variant","size","disabled","error","filled","focused","required"]}),p=(0,r.Z)({},n,{component:c,contained:"filled"===d.variant||"outlined"===d.variant,variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:l,required:c}=e,u={root:["root",i&&"disabled",o&&"error",r&&`size${(0,x.Z)(r)}`,n&&"contained",l&&"focused",s&&"filled",c&&"required"]};return(0,a.Z)(u,Ue,t)})(p);return(0,y.jsx)(ze,(0,r.Z)({as:c,ownerState:p,className:(0,s.Z)(f.root,l),ref:t},h,{children:" "===o?je||(je=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"})):o}))}));n(9864);var qe=n(8038),We=n(8542),He=n(3269),Ke=n(7144),Ge=n(5340),Qe=n(6514),Je=n(9916),Xe=n(4680);function Ye(e){return(0,j.ZP)("MuiPopover",e)}(0,V.Z)("MuiPopover",["root","paper"]);const et=["onEntering"],tt=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],nt=["slotProps"];function rt(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function it(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ot(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function st(e){return"function"==typeof e?e():e}const at=(0,c.ZP)(Je.Z,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lt=(0,c.ZP)(Xe.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ct=o.forwardRef((function(e,t){var n,l,c;const h=(0,u.Z)({props:e,name:"MuiPopover"}),{action:d,anchorEl:p,anchorOrigin:f={vertical:"top",horizontal:"left"},anchorPosition:m,anchorReference:g="anchorEl",children:v,className:w,container:b,elevation:E=8,marginThreshold:T=16,open:_,PaperProps:I={},slots:C,slotProps:k,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:P=Qe.Z,transitionDuration:A="auto",TransitionProps:{onEntering:N}={},disableScrollLock:O=!1}=h,D=(0,i.Z)(h.TransitionProps,et),M=(0,i.Z)(h,tt),L=null!=(n=null==k?void 0:k.paper)?n:I,F=o.useRef(),Z=(0,R.Z)(F,L.ref),U=(0,r.Z)({},h,{anchorOrigin:f,anchorReference:g,elevation:E,marginThreshold:T,externalPaperSlotProps:L,transformOrigin:x,TransitionComponent:P,transitionDuration:A,TransitionProps:D}),V=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"],paper:["paper"]},Ye,t)})(U),j=o.useCallback((()=>{if("anchorPosition"===g)return m;const e=st(p),t=(e&&1===e.nodeType?e:(0,qe.Z)(F.current).body).getBoundingClientRect();return{top:t.top+rt(t,f.vertical),left:t.left+it(t,f.horizontal)}}),[p,f.horizontal,f.vertical,m,g]),B=o.useCallback((e=>({vertical:rt(e,x.vertical),horizontal:it(e,x.horizontal)})),[x.horizontal,x.vertical]),z=o.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=B(t);if("none"===g)return{top:null,left:null,transformOrigin:ot(n)};const r=j();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,l=(0,Ge.Z)(st(p)),c=l.innerHeight-T,u=l.innerWidth-T;if(null!==T&&i<T){const e=i-T;i-=e,n.vertical+=e}else if(null!==T&&s>c){const e=s-c;i-=e,n.vertical+=e}if(null!==T&&o<T){const e=o-T;o-=e,n.horizontal+=e}else if(a>u){const e=a-u;o-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(o)}px`,transformOrigin:ot(n)}}),[p,g,j,B,T]),[$,q]=o.useState(_),W=o.useCallback((()=>{const e=F.current;if(!e)return;const t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,q(!0)}),[z]);o.useEffect((()=>(O&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W))),[p,O,W]),o.useEffect((()=>{_&&W()})),o.useImperativeHandle(d,(()=>_?{updatePosition:()=>{W()}}:null),[_,W]),o.useEffect((()=>{if(!_)return;const e=(0,Ke.Z)((()=>{W()})),t=(0,Ge.Z)(p);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[p,_,W]);let H=A;"auto"!==A||P.muiSupportAuto||(H=void 0);const K=b||(p?(0,qe.Z)(st(p)).body:void 0),G=null!=(l=null==C?void 0:C.root)?l:at,Q=null!=(c=null==C?void 0:C.paper)?c:lt,J=(0,We.y)({elementType:Q,externalSlotProps:(0,r.Z)({},L,{style:$?L.style:(0,r.Z)({},L.style,{opacity:0})}),additionalProps:{elevation:E,ref:Z},ownerState:U,className:(0,s.Z)(V.paper,null==L?void 0:L.className)}),X=(0,We.y)({elementType:G,externalSlotProps:(null==k?void 0:k.root)||{},externalForwardedProps:M,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:K,open:_},ownerState:U,className:(0,s.Z)(V.root,w)}),{slotProps:Y}=X,ee=(0,i.Z)(X,nt);return(0,y.jsx)(G,(0,r.Z)({},ee,!(0,S.X)(G)&&{slotProps:Y,disableScrollLock:O},{children:(0,y.jsx)(P,(0,r.Z)({appear:!0,in:_,onEntering:(e,t)=>{N&&N(e,t),W()},onExited:()=>{q(!1)},timeout:H},D,{children:(0,y.jsx)(Q,(0,r.Z)({},J,{children:v}))}))}))}));var ut=n(2734);function ht(e){return(0,j.ZP)("MuiMenu",e)}(0,V.Z)("MuiMenu",["root","paper","list"]);const dt=["onEntering"],pt=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ft={vertical:"top",horizontal:"right"},mt={vertical:"top",horizontal:"left"},gt=(0,c.ZP)(ct,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vt=(0,c.ZP)(lt,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yt=(0,c.ZP)(He.Z,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),wt=o.forwardRef((function(e,t){var n,l;const c=(0,u.Z)({props:e,name:"MuiMenu"}),{autoFocus:h=!0,children:d,className:p,disableAutoFocusItem:f=!1,MenuListProps:m={},onClose:g,open:v,PaperProps:w={},PopoverClasses:b,transitionDuration:E="auto",TransitionProps:{onEntering:T}={},variant:_="selectedMenu",slots:S={},slotProps:I={}}=c,C=(0,i.Z)(c.TransitionProps,dt),k=(0,i.Z)(c,pt),x=(0,ut.Z)(),R="rtl"===x.direction,P=(0,r.Z)({},c,{autoFocus:h,disableAutoFocusItem:f,MenuListProps:m,onEntering:T,PaperProps:w,transitionDuration:E,TransitionProps:C,variant:_}),A=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"],paper:["paper"],list:["list"]},ht,t)})(P),N=h&&!f&&v,O=o.useRef(null);let D=-1;o.Children.map(d,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===_&&e.props.selected||-1===D)&&(D=t))}));const M=null!=(n=S.paper)?n:vt,L=null!=(l=I.paper)?l:w,F=(0,We.y)({elementType:S.root,externalSlotProps:I.root,ownerState:P,className:[A.root,p]}),Z=(0,We.y)({elementType:M,externalSlotProps:L,ownerState:P,className:A.paper});return(0,y.jsx)(gt,(0,r.Z)({onClose:g,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?ft:mt,slots:{paper:M,root:S.root},slotProps:{root:F,paper:Z},open:v,ref:t,transitionDuration:E,TransitionProps:(0,r.Z)({onEntering:(e,t)=>{O.current&&O.current.adjustStyleForScrollbar(e,x),T&&T(e,t)}},C),ownerState:P},k,{classes:b,children:(0,y.jsx)(yt,(0,r.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),g&&g(e,"tabKeyDown"))},actions:O,autoFocus:h&&(-1===D||f),autoFocusItem:N,variant:_},m,{className:(0,s.Z)(A.list,m.className),children:d}))}))}));function bt(e){return(0,j.ZP)("MuiNativeSelect",e)}const Et=(0,V.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Tt=["className","disabled","error","IconComponent","inputRef","variant"],_t=({ownerState:e,theme:t})=>(0,r.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,r.Z)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Et.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),St=(0,c.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:c.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Et.multiple}`]:t.multiple}]}})(_t),It=({ownerState:e,theme:t})=>(0,r.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Et.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),Ct=(0,c.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,x.Z)(n.variant)}`],n.open&&t.iconOpen]}})(It),kt=o.forwardRef((function(e,t){const{className:n,disabled:l,error:c,IconComponent:u,inputRef:h,variant:d="standard"}=e,p=(0,i.Z)(e,Tt),f=(0,r.Z)({},e,{disabled:l,variant:d,error:c}),m=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,x.Z)(n)}`,o&&"iconOpen",r&&"disabled"]};return(0,a.Z)(l,bt,t)})(f);return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(St,(0,r.Z)({ownerState:f,className:(0,s.Z)(m.select,n),disabled:l,ref:h||t},p)),e.multiple?null:(0,y.jsx)(Ct,{as:u,ownerState:f,className:m.icon})]})}));var xt=n(9327);function Rt(e){return(0,j.ZP)("MuiSelect",e)}const Pt=(0,V.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var At;const Nt=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ot=(0,c.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Pt.select}`]:t.select},{[`&.${Pt.select}`]:t[n.variant]},{[`&.${Pt.error}`]:t.error},{[`&.${Pt.multiple}`]:t.multiple}]}})(_t,{[`&.${Pt.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Dt=(0,c.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,x.Z)(n.variant)}`],n.open&&t.iconOpen]}})(It),Mt=(0,c.ZP)("input",{shouldForwardProp:e=>(0,c.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Lt(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}function Ft(e){return null==e||"string"==typeof e&&!e.trim()}const Zt=o.forwardRef((function(e,t){var n;const{"aria-describedby":c,"aria-label":u,autoFocus:h,autoWidth:p,children:f,className:m,defaultOpen:g,defaultValue:v,disabled:w,displayEmpty:b,error:E=!1,IconComponent:T,inputRef:_,labelId:S,MenuProps:I={},multiple:C,name:k,onBlur:P,onChange:A,onClose:N,onFocus:O,onOpen:D,open:M,readOnly:L,renderValue:F,SelectDisplayProps:Z={},tabIndex:V,value:j,variant:B="standard"}=e,z=(0,i.Z)(e,Nt),[$,q]=(0,xt.Z)({controlled:j,default:v,name:"Select"}),[W,H]=(0,xt.Z)({controlled:M,default:g,name:"Select"}),K=o.useRef(null),G=o.useRef(null),[Q,J]=o.useState(null),{current:X}=o.useRef(null!=M),[Y,ee]=o.useState(),te=(0,R.Z)(t,_),ne=o.useCallback((e=>{G.current=e,e&&J(e)}),[]),re=null==Q?void 0:Q.parentNode;o.useImperativeHandle(te,(()=>({focus:()=>{G.current.focus()},node:K.current,value:$})),[$]),o.useEffect((()=>{g&&W&&Q&&!X&&(ee(p?null:re.clientWidth),G.current.focus())}),[Q,p]),o.useEffect((()=>{h&&G.current.focus()}),[h]),o.useEffect((()=>{if(!S)return;const e=(0,qe.Z)(G.current).getElementById(S);if(e){const t=()=>{getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[S]);const ie=(e,t)=>{e?D&&D(t):N&&N(t),X||(ee(p?null:re.clientWidth),H(e))},oe=o.Children.toArray(f),se=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(C){n=Array.isArray($)?$.slice():[];const t=$.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),$!==n&&(q(n),A)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:k}}),A(i,e)}C||ie(!1,t)}},ae=null!==Q&&W;let le,ce;delete z["aria-invalid"];const ue=[];let he=!1,de=!1;(U({value:$})||b)&&(F?le=F($):he=!0);const pe=oe.map((e=>{if(!o.isValidElement(e))return null;let t;if(C){if(!Array.isArray($))throw new Error((0,d.Z)(2));t=$.some((t=>Lt(t,e.props.value))),t&&he&&ue.push(e.props.children)}else t=Lt($,e.props.value),t&&he&&(ce=e.props.children);return t&&(de=!0),o.cloneElement(e,{"aria-selected":t?"true":"false",onClick:se(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(le=C?0===ue.length?null:ue.reduce(((e,t,n)=>(e.push(t),n<ue.length-1&&e.push(", "),e)),[]):ce);let fe,me=Y;!p&&X&&Q&&(me=re.clientWidth),fe=void 0!==V?V:w?null:0;const ge=Z.id||(k?`mui-component-select-${k}`:void 0),ve=(0,r.Z)({},e,{variant:B,value:$,open:ae,error:E}),ye=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,l={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,x.Z)(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,a.Z)(l,Rt,t)})(ve),we=(0,r.Z)({},I.PaperProps,null==(n=I.slotProps)?void 0:n.paper),be=(0,l.Z)();return(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(Ot,(0,r.Z)({ref:ne,tabIndex:fe,role:"combobox","aria-controls":be,"aria-disabled":w?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[S,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":c,onKeyDown:e=>{L||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))},onMouseDown:w||L?null:e=>{0===e.button&&(e.preventDefault(),G.current.focus(),ie(!0,e))},onBlur:e=>{!ae&&P&&(Object.defineProperty(e,"target",{writable:!0,value:{value:$,name:k}}),P(e))},onFocus:O},Z,{ownerState:ve,className:(0,s.Z)(Z.className,ye.select,m),id:ge,children:Ft(le)?At||(At=(0,y.jsx)("span",{className:"notranslate",children:"â€‹"})):le})),(0,y.jsx)(Mt,(0,r.Z)({"aria-invalid":E,value:Array.isArray($)?$.join(","):$,name:k,ref:K,"aria-hidden":!0,onChange:e=>{const t=oe.find((t=>t.props.value===e.target.value));void 0!==t&&(q(t.props.value),A&&A(e,t))},tabIndex:-1,disabled:w,className:ye.nativeInput,autoFocus:h,ownerState:ve},z)),(0,y.jsx)(Dt,{as:T,className:ye.icon,ownerState:ve}),(0,y.jsx)(wt,(0,r.Z)({id:`menu-${k||""}`,anchorEl:re,open:ae,onClose:e=>{ie(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},I,{MenuListProps:(0,r.Z)({"aria-labelledby":S,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:be},I.MenuListProps),slotProps:(0,r.Z)({},I.slotProps,{paper:(0,r.Z)({},we,{style:(0,r.Z)({minWidth:me},null!=we?we.style:null)})}),children:pe}))]})})),Ut=(0,n(5949).Z)((0,y.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Vt=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jt=["root"],Bt={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,c.FO)(e)&&"variant"!==e,slot:"Root"},zt=(0,c.ZP)(ie,Bt)(""),$t=(0,c.ZP)(_e,Bt)(""),qt=(0,c.ZP)(he,Bt)(""),Wt=o.forwardRef((function(e,t){const n=(0,u.Z)({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:l,classes:c={},className:d,defaultOpen:p=!1,displayEmpty:f=!1,IconComponent:m=Ut,id:g,input:v,inputProps:w,label:b,labelId:E,MenuProps:T,multiple:_=!1,native:S=!1,onClose:C,onOpen:x,open:P,renderValue:A,SelectDisplayProps:N,variant:O="outlined"}=n,D=(0,i.Z)(n,Vt),M=S?kt:Zt,L=I({props:n,muiFormControl:(0,k.Z)(),states:["variant","error"]}),F=L.variant||O,Z=(0,r.Z)({},n,{variant:F,classes:c}),U=(e=>{const{classes:t}=e;return t})(Z),V=(0,i.Z)(U,jt),j=v||{standard:(0,y.jsx)(zt,{ownerState:Z}),outlined:(0,y.jsx)($t,{label:b,ownerState:Z}),filled:(0,y.jsx)(qt,{ownerState:Z})}[F],B=(0,R.Z)(t,j.ref);return(0,y.jsx)(o.Fragment,{children:o.cloneElement(j,(0,r.Z)({inputComponent:M,inputProps:(0,r.Z)({children:l,error:L.error,IconComponent:m,variant:F,type:void 0,multiple:_},S?{id:g}:{autoWidth:a,defaultOpen:p,displayEmpty:f,labelId:E,MenuProps:T,onClose:C,onOpen:x,open:P,renderValue:A,SelectDisplayProps:(0,r.Z)({id:g},N)},w,{classes:w?(0,h.Z)(V,w.classes):V},v?v.props.inputProps:{})},_&&S&&"outlined"===F?{notched:!0}:{},{ref:B,className:(0,s.Z)(j.props.className,d,U.root)},!v&&{variant:F},D))})}));Wt.muiName="Select";const Ht=Wt;function Kt(e){return(0,j.ZP)("MuiTextField",e)}(0,V.Z)("MuiTextField",["root"]);const Gt=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Qt={standard:ie,filled:he,outlined:_e},Jt=(0,c.ZP)(Ze,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Xt=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:c=!1,children:h,className:d,color:p="primary",defaultValue:f,disabled:m=!1,error:g=!1,FormHelperTextProps:v,fullWidth:w=!1,helperText:b,id:E,InputLabelProps:T,inputProps:_,InputProps:S,inputRef:I,label:C,maxRows:k,minRows:x,multiline:R=!1,name:P,onBlur:A,onChange:N,onFocus:O,placeholder:D,required:M=!1,rows:L,select:F=!1,SelectProps:Z,type:U,value:V,variant:j="outlined"}=n,B=(0,i.Z)(n,Gt),z=(0,r.Z)({},n,{autoFocus:c,color:p,disabled:m,error:g,fullWidth:w,multiline:R,required:M,select:F,variant:j}),$=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},Kt,t)})(z),q={};"outlined"===j&&(T&&void 0!==T.shrink&&(q.notched=T.shrink),q.label=C),F&&(Z&&Z.native||(q.id=void 0),q["aria-describedby"]=void 0);const W=(0,l.Z)(E),H=b&&W?`${W}-helper-text`:void 0,K=C&&W?`${W}-label`:void 0,G=Qt[j],Q=(0,y.jsx)(G,(0,r.Z)({"aria-describedby":H,autoComplete:o,autoFocus:c,defaultValue:f,fullWidth:w,multiline:R,name:P,rows:L,maxRows:k,minRows:x,type:U,value:V,id:W,inputRef:I,onBlur:A,onChange:N,onFocus:O,placeholder:D,inputProps:_},q,S));return(0,y.jsxs)(Jt,(0,r.Z)({className:(0,s.Z)($.root,d),disabled:m,error:g,fullWidth:w,ref:t,required:M,color:p,variant:j,ownerState:z},B,{children:[null!=C&&""!==C&&(0,y.jsx)(Oe,(0,r.Z)({htmlFor:W,id:K},T,{children:C})),F?(0,y.jsx)(Ht,(0,r.Z)({"aria-describedby":H,id:W,labelId:K,value:V,input:Q},Z,{children:h})):Q,b&&(0,y.jsx)($e,(0,r.Z)({id:H},v,{children:b}))]}))}))},1006:(e,t,n)=>{n.d(t,{Z:()=>at});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(238),c=n(2283),u=n(948),h=n(2734),d=n(6122),p=n(8216),f=n(6514),m=n(3703),g=n(3546),v=n(2690);function y(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function w(e){return e instanceof y(e).Element||e instanceof Element}function b(e){return e instanceof y(e).HTMLElement||e instanceof HTMLElement}function E(e){return"undefined"!=typeof ShadowRoot&&(e instanceof y(e).ShadowRoot||e instanceof ShadowRoot)}var T=Math.max,_=Math.min,S=Math.round;function I(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function C(){return!/^((?!chrome|android).)*safari/i.test(I())}function k(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&b(e)&&(i=e.offsetWidth>0&&S(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&S(r.height)/e.offsetHeight||1);var s=(w(e)?y(e):window).visualViewport,a=!C()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,h=r.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function x(e){var t=y(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function R(e){return e?(e.nodeName||"").toLowerCase():null}function P(e){return((w(e)?e.ownerDocument:e.document)||window.document).documentElement}function A(e){return k(P(e)).left+x(e).scrollLeft}function N(e){return y(e).getComputedStyle(e)}function O(e){var t=N(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function D(e,t,n){void 0===n&&(n=!1);var r,i,o=b(t),s=b(t)&&function(e){var t=e.getBoundingClientRect(),n=S(t.width)/e.offsetWidth||1,r=S(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=P(t),l=k(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==R(t)||O(a))&&(c=(r=t)!==y(r)&&b(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:x(r)),b(t)?((u=k(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=A(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function M(e){var t=k(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function L(e){return"html"===R(e)?e:e.assignedSlot||e.parentNode||(E(e)?e.host:null)||P(e)}function F(e){return["html","body","#document"].indexOf(R(e))>=0?e.ownerDocument.body:b(e)&&O(e)?e:F(L(e))}function Z(e,t){var n;void 0===t&&(t=[]);var r=F(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=y(r),s=i?[o].concat(o.visualViewport||[],O(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Z(L(s)))}function U(e){return["table","td","th"].indexOf(R(e))>=0}function V(e){return b(e)&&"fixed"!==N(e).position?e.offsetParent:null}function j(e){for(var t=y(e),n=V(e);n&&U(n)&&"static"===N(n).position;)n=V(n);return n&&("html"===R(n)||"body"===R(n)&&"static"===N(n).position)?t:n||function(e){var t=/firefox/i.test(I());if(/Trident/i.test(I())&&b(e)&&"fixed"===N(e).position)return null;var n=L(e);for(E(n)&&(n=n.host);b(n)&&["html","body"].indexOf(R(n))<0;){var r=N(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var B="top",z="bottom",$="right",q="left",W="auto",H=[B,z,$,q],K="start",G="end",Q="viewport",J="popper",X=H.reduce((function(e,t){return e.concat([t+"-"+K,t+"-"+G])}),[]),Y=[].concat(H,[W]).reduce((function(e,t){return e.concat([t,t+"-"+K,t+"-"+G])}),[]),ee=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function te(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var ne={placement:"bottom",modifiers:[],strategy:"absolute"};function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ie(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ne:i;return function(e,t,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ne,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},o,a.options,i),a.scrollParents={reference:w(e)?Z(e):e.contextElement?Z(e.contextElement):[],popper:Z(t)};var s,c,d=function(e){var t=te(e);return ee.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,a.options.modifiers),c=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=d.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:a,name:t,instance:u,options:r});l.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(re(t,n)){a.rects={reference:D(t,j(n),"fixed"===a.options.strategy),popper:M(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,l=void 0===s?{}:s,h=i.name;"function"==typeof o&&(a=o({state:a,options:l,name:h,instance:u})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){h(),c=!0}};if(!re(e,t))return u;function h(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var oe={passive:!0};function se(e){return e.split("-")[0]}function ae(e){return e.split("-")[1]}function le(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ce(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?se(i):null,s=i?ae(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case B:t={x:a,y:n.y-r.height};break;case z:t={x:a,y:n.y+n.height};break;case $:t={x:n.x+n.width,y:l};break;case q:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?le(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case K:t[c]=t[c]-(n[u]/2-r[u]/2);break;case G:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var ue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function he(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=s.x,p=void 0===d?0:d,f=s.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),b=q,E=B,T=window;if(c){var _=j(n),I="clientHeight",C="clientWidth";_===y(n)&&"static"!==N(_=P(n)).position&&"absolute"===a&&(I="scrollHeight",C="scrollWidth"),(i===B||(i===q||i===$)&&o===G)&&(E=z,m-=(h&&_===T&&T.visualViewport?T.visualViewport.height:_[I])-r.height,m*=l?1:-1),i!==q&&(i!==B&&i!==z||o!==G)||(b=$,p-=(h&&_===T&&T.visualViewport?T.visualViewport.width:_[C])-r.width,p*=l?1:-1)}var k,x=Object.assign({position:a},c&&ue),R=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:S(n*i)/i||0,y:S(r*i)/i||0}}({x:p,y:m},y(n)):{x:p,y:m};return p=R.x,m=R.y,l?Object.assign({},x,((k={})[E]=w?"0":"",k[b]=v?"0":"",k.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k)):Object.assign({},x,((t={})[E]=w?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}var de={left:"right",right:"left",bottom:"top",top:"bottom"};function pe(e){return e.replace(/left|right|bottom|top/g,(function(e){return de[e]}))}var fe={start:"end",end:"start"};function me(e){return e.replace(/start|end/g,(function(e){return fe[e]}))}function ge(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&E(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ve(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ye(e,t,n){return t===Q?ve(function(e,t){var n=y(e),r=P(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=C();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+A(e),y:l}}(e,n)):w(t)?function(e,t){var n=k(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):ve(function(e){var t,n=P(e),r=x(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=T(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=T(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+A(e),l=-r.scrollTop;return"rtl"===N(i||n).direction&&(a+=T(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(P(e)))}function we(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function be(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Ee(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?Q:c,h=n.elementContext,d=void 0===h?J:h,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=we("number"!=typeof g?g:be(g,H)),y=d===J?"reference":J,E=e.rects.popper,S=e.elements[f?y:d],I=function(e,t,n,r){var i="clippingParents"===t?function(e){var t=Z(L(e)),n=["absolute","fixed"].indexOf(N(e).position)>=0&&b(e)?j(e):e;return w(n)?t.filter((function(e){return w(e)&&ge(e,n)&&"body"!==R(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=ye(e,n,r);return t.top=T(i.top,t.top),t.right=_(i.right,t.right),t.bottom=_(i.bottom,t.bottom),t.left=T(i.left,t.left),t}),ye(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(w(S)?S:S.contextElement||P(e.elements.popper),l,u,s),C=k(e.elements.reference),x=ce({reference:C,element:E,strategy:"absolute",placement:i}),A=ve(Object.assign({},E,x)),O=d===J?A:C,D={top:I.top-O.top+v.top,bottom:O.bottom-I.bottom+v.bottom,left:I.left-O.left+v.left,right:O.right-I.right+v.right},M=e.modifiersData.offset;if(d===J&&M){var F=M[i];Object.keys(D).forEach((function(e){var t=[$,z].indexOf(e)>=0?1:-1,n=[B,z].indexOf(e)>=0?"y":"x";D[e]+=F[n]*t}))}return D}function Te(e,t,n){return T(e,_(t,n))}function _e(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Se(e){return[B,$,z,q].some((function(t){return e[t]>=0}))}var Ie=ie({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=y(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,oe)})),a&&l.addEventListener("resize",n.update,oe),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,oe)})),a&&l.removeEventListener("resize",n.update,oe)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ce({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:se(t.placement),variation:ae(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,he(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,he(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];b(i)&&R(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});b(r)&&R(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=Y.reduce((function(e,n){return e[n]=function(e,t,n){var r=se(e),i=[q,B].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[q,$].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=se(g),y=l||(v!==g&&f?function(e){if(se(e)===W)return[];var t=pe(e);return[me(e),t,me(t)]}(g):[pe(g)]),w=[g].concat(y).reduce((function(e,n){return e.concat(se(n)===W?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Y:l,u=ae(r),h=u?a?X:X.filter((function(e){return ae(e)===u})):H,d=h.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=h);var p=d.reduce((function(t,n){return t[n]=Ee(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[se(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,E=t.rects.popper,T=new Map,_=!0,S=w[0],I=0;I<w.length;I++){var C=w[I],k=se(C),x=ae(C)===K,R=[B,z].indexOf(k)>=0,P=R?"width":"height",A=Ee(t,{placement:C,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),N=R?x?$:q:x?z:B;b[P]>E[P]&&(N=pe(N));var O=pe(N),D=[];if(o&&D.push(A[k]<=0),a&&D.push(A[N]<=0,A[O]<=0),D.every((function(e){return e}))){S=C,_=!1;break}T.set(C,D)}if(_)for(var M=function(e){var t=w.find((function(t){var n=T.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},L=f?3:1;L>0&&"break"!==M(L);L--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,p=void 0===d||d,f=n.tetherOffset,m=void 0===f?0:f,g=Ee(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=se(t.placement),y=ae(t.placement),w=!y,b=le(v),E="x"===b?"y":"x",S=t.modifiersData.popperOffsets,I=t.rects.reference,C=t.rects.popper,k="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,x="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(S){if(o){var A,N="y"===b?B:q,O="y"===b?z:$,D="y"===b?"height":"width",L=S[b],F=L+g[N],Z=L-g[O],U=p?-C[D]/2:0,V=y===K?I[D]:C[D],W=y===K?-C[D]:-I[D],H=t.elements.arrow,G=p&&H?M(H):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},J=Q[N],X=Q[O],Y=Te(0,I[D],G[D]),ee=w?I[D]/2-U-Y-J-x.mainAxis:V-Y-J-x.mainAxis,te=w?-I[D]/2+U+Y+X+x.mainAxis:W+Y+X+x.mainAxis,ne=t.elements.arrow&&j(t.elements.arrow),re=ne?"y"===b?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(A=null==R?void 0:R[b])?A:0,oe=L+te-ie,ce=Te(p?_(F,L+ee-ie-re):F,L,p?T(Z,oe):Z);S[b]=ce,P[b]=ce-L}if(a){var ue,he="x"===b?B:q,de="x"===b?z:$,pe=S[E],fe="y"===E?"height":"width",me=pe+g[he],ge=pe-g[de],ve=-1!==[B,q].indexOf(v),ye=null!=(ue=null==R?void 0:R[E])?ue:0,we=ve?me:pe-I[fe]-C[fe]-ye+x.altAxis,be=ve?pe+I[fe]+C[fe]-ye-x.altAxis:ge,_e=p&&ve?function(e,t,n){var r=Te(e,t,n);return r>n?n:r}(we,pe,be):Te(p?we:me,pe,p?be:ge);S[E]=_e,P[E]=_e-pe}t.modifiersData[r]=P}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=se(n.placement),l=le(a),c=[q,$].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return we("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:be(e,H))}(i.padding,n),h=M(o),d="y"===l?B:q,p="y"===l?z:$,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=j(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,w=u[d],b=v-h[c]-u[p],E=v/2-h[c]/2+y,T=Te(w,E,b),_=l;n.modifiersData[r]=((t={})[_]=T,t.centerOffset=T-E,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&ge(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Ee(t,{elementContext:"reference"}),a=Ee(t,{altBoundary:!0}),l=_e(s,r),c=_e(a,i,o),u=Se(l),h=Se(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]}),Ce=n(8385),ke=n(4867);const xe="base";function Re(e,t){const n=ke._v[t];return n?`${xe}--${n}`:function(e,t){return`${xe}-${e}-${t}`}(e,t)}const Pe="Popper";function Ae(e){return Re(Pe,e)}!function(e,t){const n={};["root"].forEach((t=>{n[t]=Re(e,t)}))}(Pe);var Ne=n(8542),Oe=n(5893);const De={disableDefaultClasses:!1},Me=o.createContext(De),Le=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Fe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ze(e){return"function"==typeof e?e():e}const Ue={},Ve=o.forwardRef((function(e,t){var n;const{anchorEl:s,children:l,direction:c,disablePortal:u,modifiers:h,open:d,placement:p,popperOptions:f,popperRef:v,slotProps:y={},slots:w={},TransitionProps:b}=e,E=(0,r.Z)(e,Le),T=o.useRef(null),_=(0,m.Z)(T,t),S=o.useRef(null),I=(0,m.Z)(S,v),C=o.useRef(I);(0,g.Z)((()=>{C.current=I}),[I]),o.useImperativeHandle(v,(()=>S.current),[]);const k=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,c),[x,R]=o.useState(k),[P,A]=o.useState(Ze(s));o.useEffect((()=>{S.current&&S.current.forceUpdate()})),o.useEffect((()=>{s&&A(Ze(s))}),[s]),(0,g.Z)((()=>{if(!P||!d)return;let e=[{name:"preventOverflow",options:{altBoundary:u}},{name:"flip",options:{altBoundary:u}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:e})=>{R(e.placement)}}];null!=h&&(e=e.concat(h)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));const t=Ie(P,T.current,(0,i.Z)({placement:k},f,{modifiers:e}));return C.current(t),()=>{t.destroy(),C.current(null)}}),[P,u,h,d,f,k]);const N={placement:x};null!==b&&(N.TransitionProps=b);const O=(0,a.Z)({root:["root"]},function(e){const{disableDefaultClasses:t}=o.useContext(Me);return n=>t?"":e(n)}(Ae)),D=null!=(n=w.root)?n:"div",M=(0,Ne.y)({elementType:D,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:O.root});return(0,Oe.jsx)(D,(0,i.Z)({},M,{children:"function"==typeof l?l(N):l}))})),je=o.forwardRef((function(e,t){const{anchorEl:n,children:s,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:u=!1,modifiers:h,open:d,placement:p="bottom",popperOptions:f=Ue,popperRef:m,style:g,transition:y=!1,slotProps:w={},slots:b={}}=e,E=(0,r.Z)(e,Fe),[T,_]=o.useState(!0);if(!u&&!d&&(!y||T))return null;let S;if(a)S=a;else if(n){const e=Ze(n);S=e&&void 0!==e.nodeType?(0,v.Z)(e).body:(0,v.Z)(null).body}const I=d||!u||y&&!T?void 0:"none",C=y?{in:d,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return(0,Oe.jsx)(Ce.h,{disablePortal:c,container:S,children:(0,Oe.jsx)(Ve,(0,i.Z)({anchorEl:n,direction:l,disablePortal:c,modifiers:h,ref:t,open:y?!T:d,placement:p,popperOptions:f,popperRef:m,slotProps:w,slots:b},E,{style:(0,i.Z)({position:"fixed",top:0,left:0,display:I},g),TransitionProps:C,children:s}))})}));var Be=n(4168);const ze=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],$e=(0,u.ZP)(je,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),qe=o.forwardRef((function(e,t){var n;const o=(0,Be.Z)(),s=(0,d.Z)({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:u,container:h,disablePortal:p,keepMounted:f,modifiers:m,open:g,placement:v,popperOptions:y,popperRef:w,transition:b,slots:E,slotProps:T}=s,_=(0,r.Z)(s,ze),S=null!=(n=null==E?void 0:E.root)?n:null==c?void 0:c.Root,I=(0,i.Z)({anchorEl:a,container:h,disablePortal:p,keepMounted:f,modifiers:m,open:g,placement:v,popperOptions:y,popperRef:w,transition:b},_);return(0,Oe.jsx)($e,(0,i.Z)({as:l,direction:null==o?void 0:o.direction,slots:{root:S},slotProps:null!=T?T:u},I,{ref:t}))}));var We=n(2068),He=n(1705),Ke=n(7909),Ge=n(3511),Qe=n(9327);function Je(e){return(0,ke.ZP)("MuiTooltip",e)}const Xe=(0,n(1588).Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"],et=(0,u.ZP)(qe,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((({theme:e,ownerState:t,open:n})=>(0,i.Z)({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Xe.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Xe.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Xe.arrow}`]:(0,i.Z)({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Xe.arrow}`]:(0,i.Z)({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),tt=(0,u.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,p.Z)(n.placement.split("-")[0])}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:(0,c.Fq)(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:(16/14,Math.round(114285.71428571428)/1e5+"em"),fontWeight:e.typography.fontWeightRegular},{[`.${Xe.popper}[data-popper-placement*="left"] &`]:(0,i.Z)({transformOrigin:"right center"},t.isRtl?(0,i.Z)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):(0,i.Z)({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Xe.popper}[data-popper-placement*="right"] &`]:(0,i.Z)({transformOrigin:"left center"},t.isRtl?(0,i.Z)({marginRight:"14px"},t.touch&&{marginRight:"24px"}):(0,i.Z)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Xe.popper}[data-popper-placement*="top"] &`]:(0,i.Z)({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Xe.popper}[data-popper-placement*="bottom"] &`]:(0,i.Z)({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})}))),nt=(0,u.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:(0,c.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let rt=!1,it=null,ot={x:0,y:0};function st(e,t){return n=>{t&&t(n),e(n)}}const at=o.forwardRef((function(e,t){var n,c,u,m,g,v,y,w,b,E,T,_,S,I,C,k,x,R,P;const A=(0,d.Z)({props:e,name:"MuiTooltip"}),{arrow:N=!1,children:O,components:D={},componentsProps:M={},describeChild:L=!1,disableFocusListener:F=!1,disableHoverListener:Z=!1,disableInteractive:U=!1,disableTouchListener:V=!1,enterDelay:j=100,enterNextDelay:B=0,enterTouchDelay:z=700,followCursor:$=!1,id:q,leaveDelay:W=0,leaveTouchDelay:H=1500,onClose:K,onOpen:G,open:Q,placement:J="bottom",PopperComponent:X,PopperProps:Y={},slotProps:ee={},slots:te={},title:ne,TransitionComponent:re=f.Z,TransitionProps:ie}=A,oe=(0,r.Z)(A,Ye),se=o.isValidElement(O)?O:(0,Oe.jsx)("span",{children:O}),ae=(0,h.Z)(),le="rtl"===ae.direction,[ce,ue]=o.useState(),[he,de]=o.useState(null),pe=o.useRef(!1),fe=U||$,me=o.useRef(),ge=o.useRef(),ve=o.useRef(),ye=o.useRef(),[we,be]=(0,Qe.Z)({controlled:Q,default:!1,name:"Tooltip",state:"open"});let Ee=we;const Te=(0,Ke.Z)(q),_e=o.useRef(),Se=o.useCallback((()=>{void 0!==_e.current&&(document.body.style.WebkitUserSelect=_e.current,_e.current=void 0),clearTimeout(ye.current)}),[]);o.useEffect((()=>()=>{clearTimeout(me.current),clearTimeout(ge.current),clearTimeout(ve.current),Se()}),[Se]);const Ie=e=>{clearTimeout(it),rt=!0,be(!0),G&&!Ee&&G(e)},Ce=(0,We.Z)((e=>{clearTimeout(it),it=setTimeout((()=>{rt=!1}),800+W),be(!1),K&&Ee&&K(e),clearTimeout(me.current),me.current=setTimeout((()=>{pe.current=!1}),ae.transitions.duration.shortest)})),ke=e=>{pe.current&&"touchstart"!==e.type||(ce&&ce.removeAttribute("title"),clearTimeout(ge.current),clearTimeout(ve.current),j||rt&&B?ge.current=setTimeout((()=>{Ie(e)}),rt?B:j):Ie(e))},xe=e=>{clearTimeout(ge.current),clearTimeout(ve.current),ve.current=setTimeout((()=>{Ce(e)}),W)},{isFocusVisibleRef:Re,onBlur:Pe,onFocus:Ae,ref:Ne}=(0,Ge.Z)(),[,De]=o.useState(!1),Me=e=>{Pe(e),!1===Re.current&&(De(!1),xe(e))},Le=e=>{ce||ue(e.currentTarget),Ae(e),!0===Re.current&&(De(!0),ke(e))},Fe=e=>{pe.current=!0;const t=se.props;t.onTouchStart&&t.onTouchStart(e)},Ze=ke,Ue=xe;o.useEffect((()=>{if(Ee)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ce(e)}}),[Ce,Ee]);const Ve=(0,He.Z)(se.ref,Ne,ue,t);ne||0===ne||(Ee=!1);const je=o.useRef(),Be={},ze="string"==typeof ne;L?(Be.title=Ee||!ze||Z?null:ne,Be["aria-describedby"]=Ee?Te:null):(Be["aria-label"]=ze?ne:null,Be["aria-labelledby"]=Ee&&!ze?Te:null);const $e=(0,i.Z)({},Be,oe,se.props,{className:(0,s.Z)(oe.className,se.props.className),onTouchStart:Fe,ref:Ve},$?{onMouseMove:e=>{const t=se.props;t.onMouseMove&&t.onMouseMove(e),ot={x:e.clientX,y:e.clientY},je.current&&je.current.update()}}:{}),Xe={};V||($e.onTouchStart=e=>{Fe(e),clearTimeout(ve.current),clearTimeout(me.current),Se(),_e.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ye.current=setTimeout((()=>{document.body.style.WebkitUserSelect=_e.current,ke(e)}),z)},$e.onTouchEnd=e=>{se.props.onTouchEnd&&se.props.onTouchEnd(e),Se(),clearTimeout(ve.current),ve.current=setTimeout((()=>{Ce(e)}),H)}),Z||($e.onMouseOver=st(Ze,$e.onMouseOver),$e.onMouseLeave=st(Ue,$e.onMouseLeave),fe||(Xe.onMouseOver=Ze,Xe.onMouseLeave=Ue)),F||($e.onFocus=st(Le,$e.onFocus),$e.onBlur=st(Me,$e.onBlur),fe||(Xe.onFocus=Le,Xe.onBlur=Me));const at=o.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(he),options:{element:he,padding:4}}];return null!=(e=Y.popperOptions)&&e.modifiers&&(t=t.concat(Y.popperOptions.modifiers)),(0,i.Z)({},Y.popperOptions,{modifiers:t})}),[he,Y]),lt=(0,i.Z)({},A,{isRtl:le,arrow:N,disableInteractive:fe,placement:J,PopperComponentProp:X,touch:pe.current}),ct=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${(0,p.Z)(o.split("-")[0])}`],arrow:["arrow"]};return(0,a.Z)(s,Je,t)})(lt),ut=null!=(n=null!=(c=te.popper)?c:D.Popper)?n:et,ht=null!=(u=null!=(m=null!=(g=te.transition)?g:D.Transition)?m:re)?u:f.Z,dt=null!=(v=null!=(y=te.tooltip)?y:D.Tooltip)?v:tt,pt=null!=(w=null!=(b=te.arrow)?b:D.Arrow)?w:nt,ft=(0,l.$)(ut,(0,i.Z)({},Y,null!=(E=ee.popper)?E:M.popper,{className:(0,s.Z)(ct.popper,null==Y?void 0:Y.className,null==(T=null!=(_=ee.popper)?_:M.popper)?void 0:T.className)}),lt),mt=(0,l.$)(ht,(0,i.Z)({},ie,null!=(S=ee.transition)?S:M.transition),lt),gt=(0,l.$)(dt,(0,i.Z)({},null!=(I=ee.tooltip)?I:M.tooltip,{className:(0,s.Z)(ct.tooltip,null==(C=null!=(k=ee.tooltip)?k:M.tooltip)?void 0:C.className)}),lt),vt=(0,l.$)(pt,(0,i.Z)({},null!=(x=ee.arrow)?x:M.arrow,{className:(0,s.Z)(ct.arrow,null==(R=null!=(P=ee.arrow)?P:M.arrow)?void 0:R.className)}),lt);return(0,Oe.jsxs)(o.Fragment,{children:[o.cloneElement(se,$e),(0,Oe.jsx)(ut,(0,i.Z)({as:null!=X?X:qe,placement:J,anchorEl:$?{getBoundingClientRect:()=>({top:ot.y,left:ot.x,right:ot.x,bottom:ot.y,width:0,height:0})}:ce,popperRef:je,open:!!ce&&Ee,id:Te,transition:!0},Xe,ft,{popperOptions:at,children:({TransitionProps:e})=>(0,Oe.jsx)(ht,(0,i.Z)({timeout:ae.transitions.duration.shorter},e,mt,{children:(0,Oe.jsxs)(dt,(0,i.Z)({},gt,{children:[ne,N?(0,Oe.jsx)(pt,(0,i.Z)({},vt,{ref:de})):null]}))}))}))]})}))},2658:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(9707),l=n(4780),c=n(948),u=n(6122),h=n(8216),d=n(1588),p=n(4867);function f(e){return(0,p.ZP)("MuiTypography",e)}(0,d.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(5893);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,h.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},w={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiTypography"}),o=(e=>w[e]||e)(n.color),c=(0,a.Z)((0,i.Z)({},n,{color:o})),{align:d="inherit",className:p,component:b,gutterBottom:E=!1,noWrap:T=!1,paragraph:_=!1,variant:S="body1",variantMapping:I=y}=c,C=(0,r.Z)(c,g),k=(0,i.Z)({},c,{align:d,color:o,className:p,component:b,gutterBottom:E,noWrap:T,paragraph:_,variant:S,variantMapping:I}),x=b||(_?"p":I[S]||y[S])||"span",R=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&`align${(0,h.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,l.Z)(a,f,s)})(k);return(0,m.jsx)(v,(0,i.Z)({as:x,ref:t,ownerState:k,className:(0,s.Z)(R.root,p)},C))}))},2207:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(3366),i=n(7462),o=n(7294),s=n(512),a=n(4780),l=n(8216),c=n(948),u=n(9327),h=n(4423),d=n(9438),p=n(1588),f=n(4867);function m(e){return(0,f.ZP)("PrivateSwitchBase",e)}(0,p.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var g=n(5893);const v=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],y=(0,c.ZP)(d.Z)((({ownerState:e})=>(0,i.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),w=(0,c.ZP)("input",{shouldForwardProp:c.FO})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),b=o.forwardRef((function(e,t){const{autoFocus:n,checked:o,checkedIcon:c,className:d,defaultChecked:p,disabled:f,disableFocusRipple:b=!1,edge:E=!1,icon:T,id:_,inputProps:S,inputRef:I,name:C,onBlur:k,onChange:x,onFocus:R,readOnly:P,required:A=!1,tabIndex:N,type:O,value:D}=e,M=(0,r.Z)(e,v),[L,F]=(0,u.Z)({controlled:o,default:Boolean(p),name:"SwitchBase",state:"checked"}),Z=(0,h.Z)();let U=f;Z&&void 0===U&&(U=Z.disabled);const V="checkbox"===O||"radio"===O,j=(0,i.Z)({},e,{checked:L,disabled:U,disableFocusRipple:b,edge:E}),B=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${(0,l.Z)(i)}`],input:["input"]};return(0,a.Z)(o,m,t)})(j);return(0,g.jsxs)(y,(0,i.Z)({component:"span",className:(0,s.Z)(B.root,d),centerRipple:!0,focusRipple:!b,disabled:U,tabIndex:null,role:void 0,onFocus:e=>{R&&R(e),Z&&Z.onFocus&&Z.onFocus(e)},onBlur:e=>{k&&k(e),Z&&Z.onBlur&&Z.onBlur(e)},ownerState:j,ref:t},M,{children:[(0,g.jsx)(w,(0,i.Z)({autoFocus:n,checked:o,defaultChecked:p,className:B.input,disabled:U,id:V?_:void 0,name:C,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;F(t),x&&x(e,t)},readOnly:P,ref:I,required:A,ownerState:j,tabIndex:N,type:O},"checkbox"===O&&void 0===D?{}:{value:D},S)),L?c:T]}))}))},9164:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(7462),i=n(3366),o=n(7294);const s=o.createContext(null);function a(){return o.useContext(s)}const l="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var c=n(5893);const u=function(e){const{children:t,theme:n}=e,i=a(),u=o.useMemo((()=>{const e=null===i?n:function(e,t){return"function"==typeof t?t(e):(0,r.Z)({},e,t)}(i,n);return null!=e&&(e[l]=null!==i),e}),[n,i]);return(0,c.jsx)(s.Provider,{value:u,children:t})};var h=n(5260),d=n(4168);const p={};function f(e,t,n,i=!1){return o.useMemo((()=>{const o=e&&t[e]||t;if("function"==typeof n){const s=n(o),a=e?(0,r.Z)({},t,{[e]:s}):s;return i?()=>a:a}return e?(0,r.Z)({},t,{[e]:n}):(0,r.Z)({},t,n)}),[e,t,n,i])}const m=function(e){const{children:t,theme:n,themeId:r}=e,i=(0,d.Z)(p),o=a()||p,s=f(r,i,n),l=f(r,o,n,!0);return(0,c.jsx)(u,{theme:l,children:(0,c.jsx)(h.T.Provider,{value:s,children:t})})};var g=n(606);const v=["theme"];function y(e){let{theme:t}=e,n=(0,i.Z)(e,v);const o=t[g.Z];return(0,c.jsx)(m,(0,r.Z)({},n,{themeId:o?g.Z:void 0,theme:o||t}))}},948:(e,t,n)=>{n.d(t,{Dz:()=>a,FO:()=>s,ZP:()=>l});var r=n(2807),i=n(247),o=n(606);const s=e=>(0,r.x9)(e)&&"classes"!==e,a=r.x9,l=(0,r.ZP)({themeId:o.Z,defaultTheme:i.Z,rootShouldForwardProp:s})},2734:(e,t,n)=>{n.d(t,{Z:()=>s}),n(7294);var r=n(6682),i=n(247),o=n(606);function s(){const e=(0,r.Z)(i.Z);return e[o.Z]||e}},577:(e,t,n)=>{n.d(t,{C:()=>i,n:()=>r});const r=e=>e.scrollTop;function i(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"==typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"==typeof o?o[t.mode]:o,delay:s.transitionDelay}}},9707:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(7462),i=n(3366),o=n(9766),s=n(8010);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.Z)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,o.P)(n)?(0,r.Z)({},s,n):s}:(0,r.Z)({},s,t),(0,r.Z)({},c,{sx:u})}},4867:(e,t,n)=>{n.d(t,{ZP:()=>o,_v:()=>i});var r=n(7078);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t,n="Mui"){const o=i[t];return o?`${n}-${o}`:`${r.Z.generate(e)}-${t}`}},2599:(e,t,n)=>{function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{Ep:()=>h,J0:()=>a,RQ:()=>N,WK:()=>F,X3:()=>L,Zn:()=>x,aU:()=>i,cP:()=>d,cm:()=>P,fp:()=>f,pC:()=>A,q_:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function s(e){return void 0===e&&(e={}),function(e,t,n,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:d=!1}=s,p=l.history,f=i.Pop,m=null,g=v();function v(){return(p.state||{idx:null}).idx}function y(){f=i.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:f,location:b.location,delta:t})}function w(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"==typeof e?e:h(e);return a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(r({},p.state,{idx:g}),""));let b={get action(){return f},get location(){return e(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(o,y),m=e,()=>{l.removeEventListener(o,y),m=null}},createHref:e=>t(l,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let r=u(b.location,e,t);n&&n(r,e),g=v()+1;let o=c(r,g),s=b.createHref(r);try{p.pushState(o,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;l.location.assign(s)}d&&m&&m({action:f,location:b.location,delta:1})},replace:function(e,t){f=i.Replace;let r=u(b.location,e,t);n&&n(r,e),g=v();let o=c(r,g),s=b.createHref(r);p.replaceState(o,"",s),d&&m&&m({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=d(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:h(t))}),(function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function a(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?d(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var p;function f(e,t,n){void 0===n&&(n="/");let r=x(("string"==typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=I(i[e],k(r));return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=N([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:S(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=g(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const v=/^:[\w-]+$/,y=3,w=2,b=1,E=10,T=-2,_=e=>"*"===e;function S(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=T),t&&(r+=w),n.filter((e=>!_(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?b:E)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=C({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=s.route;o.push({params:r,pathname:N([i,c.pathname]),pathnameBase:O(N([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=N([i,c.pathnameBase]))}return o}function C(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function k(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function A(e,t,n,i){let o;void 0===i&&(i=!1),"string"==typeof e?o=d(e):(o=r({},e),a(!o.pathname||!o.pathname.includes("?"),R("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),R("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),R("#","search","hash",o)));let s,l=""===e||""===o.pathname,c=l?"/":o.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:D(r),hash:M(i)}}(o,s),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!p||(u.pathname+="/"),u}const N=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class L extends Error{}function F(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const Z=["post","put","patch","delete"],U=(new Set(Z),["get",...Z]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred")},7162:(e,t,n)=>{n.d(t,{Z:()=>a});var r,i=n(5558),o=n(7755),s="undefined"!=typeof process?null===(r=process.env)||void 0===r?void 0:r.npm_package_version:void 0;const a=function(){function e(e){void 0===e&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new o.Q(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt((0,i.GV)(e))}catch(e){return!1}},e.prototype.encrypt=function(e){try{return(0,i.t9)(this.getKey().encrypt(e))}catch(e){return!1}},e.prototype.sign=function(e,t,n){try{return(0,i.t9)(this.getKey().sign(e,t,n))}catch(e){return!1}},e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,(0,i.GV)(t),n)}catch(e){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new o.Q,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version=s,e}()},3935:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9655:(e,t,n)=>{var r,i;n.d(t,{UT:()=>d,rU:()=>m});var o=n(7294),s=n(3935),a=n(9250),l=n(2599);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const h=(r||(r=n.t(o,2))).startTransition;function d(e){let{basename:t,children:n,future:r,window:i}=e,s=o.useRef();null==s.current&&(s.current=(0,l.q_)({window:i,v5Compat:!0}));let c=s.current,[u,d]=o.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},f=o.useCallback((e=>{p&&h?h((()=>d(e))):d(e)}),[d,p]);return o.useLayoutEffect((()=>c.listen(f)),[c,f]),o.createElement(a.F0,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}(i||(i=n.t(s,2))).flushSync,(r||(r=n.t(o,2))).useId;const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,f=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:h,state:d,target:m,to:g,preventScrollReset:v,unstable_viewTransition:y}=e,w=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u),{basename:b}=o.useContext(a.Us),E=!1;if("string"==typeof g&&f.test(g)&&(n=g,p))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),n=(0,l.Zn)(t.pathname,b);t.origin===e.origin&&null!=n?g=n+t.search+t.hash:E=!0}catch(e){}let T=(0,a.oQ)(g,{relative:i}),_=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:u}=void 0===t?{}:t,h=(0,a.s0)(),d=(0,a.TH)(),p=(0,a.WU)(e,{relative:c});return o.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.Ep)(d)===(0,l.Ep)(p);h(e,{replace:n,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:u})}}),[d,h,p,r,i,n,e,s,c,u])}(g,{replace:h,state:d,target:m,preventScrollReset:v,relative:i,unstable_viewTransition:y});return o.createElement("a",c({},w,{href:n||T,onClick:E||s?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:t,target:m}))}));var g,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g||(g={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},9250:(e,t,n)=>{var r;n.d(t,{AW:()=>x,F0:()=>R,TH:()=>m,Us:()=>c,WU:()=>y,Z5:()=>P,oQ:()=>p,s0:()=>v});var i=n(7294),o=n(2599);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const a=i.createContext(null),l=i.createContext(null),c=i.createContext(null),u=i.createContext(null),h=i.createContext({outlet:null,matches:[],isDataRoute:!1}),d=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,o.J0)(!1);let{basename:r,navigator:s}=i.useContext(c),{hash:a,pathname:l,search:u}=y(e,{relative:n}),h=l;return"/"!==r&&(h="/"===l?r:(0,o.RQ)([r,l])),s.createHref({pathname:h,search:u,hash:a})}function f(){return null!=i.useContext(u)}function m(){return f()||(0,o.J0)(!1),i.useContext(u).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function v(){let{isDataRoute:e}=i.useContext(h);return e?function(){let{router:e}=function(e){let t=i.useContext(a);return t||(0,o.J0)(!1),t}(S.UseNavigateStable),t=C(I.UseNavigateStable),n=i.useRef(!1);return g((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,s({fromRouteId:t},i)))}),[e,t])}():function(){f()||(0,o.J0)(!1);let e=i.useContext(a),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:s}=i.useContext(h),{pathname:l}=m(),u=JSON.stringify((0,o.cm)(s,n.v7_relativeSplatPath)),d=i.useRef(!1);return g((()=>{d.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!d.current)return;if("number"==typeof n)return void r.go(n);let s=(0,o.pC)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,o.RQ)([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,u,l,e])}()}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:s}=i.useContext(h),{pathname:a}=m(),l=JSON.stringify((0,o.cm)(s,r.v7_relativeSplatPath));return i.useMemo((()=>(0,o.pC)(e,JSON.parse(l),a,"path"===n)),[e,l,a,n])}function w(e,t,n,r){f()||(0,o.J0)(!1);let{navigator:a}=i.useContext(c),{matches:l}=i.useContext(h),d=l[l.length-1],p=d?d.params:{},g=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let v,y=m();if(t){var w;let e="string"==typeof t?(0,o.cP)(t):t;"/"===g||(null==(w=e.pathname)?void 0:w.startsWith(g))||(0,o.J0)(!1),v=e}else v=y;let b=v.pathname||"/",S="/"===g?b:b.slice(g.length)||"/",I=(0,o.fp)(e,{pathname:S}),C=function(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||(0,o.J0)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,r,o)=>{let s,a=!1,d=null,p=null;var f;n&&(s=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||E,u&&(h<0&&0===o?(k[f="route-fallback"]||(k[f]=!0),a=!0,p=null):h===o&&(a=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),g=()=>{let t;return t=s?d:a?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(_,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(T,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}(I&&I.map((e=>Object.assign({},e,{params:Object.assign({},p,e.params),pathname:(0,o.RQ)([g,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,o.RQ)([g,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&C?i.createElement(u.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:o.aU.Pop}},C):C}function b(){let e=function(){var e;let t=i.useContext(d),n=function(e){let t=i.useContext(l);return t||(0,o.J0)(!1),t}(I.UseRouteError),r=C(I.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=(0,o.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const E=i.createElement(b,null);class T extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(h.Provider,{value:this.props.routeContext},i.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(a);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(h.Provider,{value:t},r)}var S=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S||{}),I=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(I||{});function C(e){let t=function(e){let t=i.useContext(h);return t||(0,o.J0)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.J0)(!1),n.route.id}const k={};function x(e){(0,o.J0)(!1)}function R(e){let{basename:t="/",children:n=null,location:r,navigationType:a=o.aU.Pop,navigator:l,static:h=!1,future:d}=e;f()&&(0,o.J0)(!1);let p=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:p,navigator:l,static:h,future:s({v7_relativeSplatPath:!1},d)})),[p,d,l,h]);"string"==typeof r&&(r=(0,o.cP)(r));let{pathname:g="/",search:v="",hash:y="",state:w=null,key:b="default"}=r,E=i.useMemo((()=>{let e=(0,o.Zn)(g,p);return null==e?null:{location:{pathname:e,search:v,hash:y,state:w,key:b},navigationType:a}}),[p,g,v,y,w,b,a]);return null==E?null:i.createElement(c.Provider,{value:m},i.createElement(u.Provider,{children:n,value:E}))}function P(e){let{children:t,location:n}=e;return w(A(t),n)}function A(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,A(e.props.children,s));e.type!==x&&(0,o.J0)(!1),e.props.index&&e.props.children&&(0,o.J0)(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=A(e.props.children,s)),n.push(a)})),n}(r||(r=n.t(i,2))).startTransition,new Promise((()=>{})),i.Component},8052:(e,t,n)=>{n.d(t,{ZP:()=>m});var r=n(3366),i=n(1721),o=n(7294),s=n(3935);var a=n(220),l="unmounted",c="exited",u="entering",h="entered",d="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=c,r.appearStatus=u):i=h:i=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:i},r.nextCallback=null,r}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==h&&(t=u):n!==u&&n!==h||(t=d)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===u){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;e||n?(this.props.onEnter(o,a),this.safeSetState({status:u},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(o,a)}))}))}))):this.safeSetState({status:h},(function(){t.props.onEntered(o)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:d},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:c},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:c},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(a.Z.Provider,{value:null},"function"==typeof n?n(e,i):o.cloneElement(o.Children.only(n),i))},t}(o.Component);function f(){}p.contextType=a.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=l,p.EXITED=c,p.ENTERING=u,p.ENTERED=h,p.EXITING=d;const m=p},5893:(e,t,n)=>{e.exports=n(4411)},8721:(e,t,n)=>{n.d(t,{Z:()=>l});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);function s(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const l=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(i)}},8238:(e,t,n)=>{n.d(t,{Nr:()=>i});var r=n(7294);function i(e,t){const[n,i]=r.useState(e);return r.useEffect((()=>{const n=setTimeout((()=>{i(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n}},6655:(e,t,n)=>{n.d(t,{hJ:()=>Oe,v0:()=>Kt,sB:()=>je});var r=n(4444),i=n(389),o=n(3333),s=n(7582),a=n(8463);const l=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c=new r.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),u=new o.Yd("@firebase/auth");function h(e,...t){u.logLevel<=o.in.ERROR&&u.error(`Auth (${i.Jn}): ${e}`,...t)}function d(e,...t){throw f(e,...t)}function p(e,...t){return f(e,...t)}function f(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function m(e,t,...n){if(!e)throw f(t,...n)}function g(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function v(e,t){e||g(t)}function y(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class b{constructor(e,t){this.shortDelay=e,this.longDelay=t,v(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,r.uI)()||(0,r.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,r.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void g("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void g("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void g("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},S=new b(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function C(e,t,n,i,o={}){return k(e,o,(async()=>{let o={},s={};i&&("GET"===t?s=i:o={body:JSON.stringify(i)});const a=(0,r.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),T.fetch()(R(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function k(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},_),t);try{const t=new A(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw N(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const t=o.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw N(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw N(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw N(e,"user-disabled",s);const c=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){const i=Object.assign(Object.assign({},l()),{[t]:n});return new r.LL("auth","Firebase",i).create(t,{appName:e.name})}(e,c,a);d(e,c)}}catch(t){if(t instanceof r.ZR)throw t;d(e,"network-request-failed",{message:String(t)})}}async function x(e,t,n,r,i={}){const o=await C(e,t,n,r,i);return"mfaPendingCredential"in o&&d(e,"multi-factor-auth-required",{_serverResponse:o}),o}function R(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?E(e.config,i):`${e.config.apiScheme}://${i}`}function P(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),S.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function N(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function O(e){return void 0!==e&&void 0!==e.enterprise}class D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function M(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function L(e){return 1e3*Number(e)}function F(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,r.tV)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Z(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof r.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class U{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class V{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function j(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Z(e,async function(e,t){return C(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));m(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=(0,s._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],l=(c=e.providerData,u=a,[...c.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var c,u;const h=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==l?void 0:l.length)),p=!!h&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new V(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(e,f)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(void 0!==e.idToken,"internal-error"),m(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=F(e);return m(t,"internal-error"),m(void 0!==t.exp,"internal-error"),m(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return m(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await async function(e,t){const n=await k(e,{},(async()=>{const n=(0,r.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=R(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new B;return n&&(m("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(m("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(m("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return g("not implemented")}}function z(e,t){m("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ${constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,s._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Z(this,this.stsTokenManager.getToken(this.auth,e));return m(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,r.m9)(e),i=await n.getIdToken(t),o=F(i);m(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:o,token:i,authTime:M(L(o.auth_time)),issuedAtTime:M(L(o.iat)),expirationTime:M(L(o.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,r.m9)(e);await j(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await j(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Z(this,async function(e,t){return C(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:w,emailVerified:b,isAnonymous:E,providerData:T,stsTokenManager:_}=t;m(w&&_,e,"internal-error");const S=B.fromJSON(this.name,_);m("string"==typeof w,e,"internal-error"),z(u,e.name),z(h,e.name),m("boolean"==typeof b,e,"internal-error"),m("boolean"==typeof E,e,"internal-error"),z(d,e.name),z(p,e.name),z(f,e.name),z(g,e.name),z(v,e.name),z(y,e.name);const I=new $({uid:w,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:E,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:v,lastLoginAt:y});return T&&Array.isArray(T)&&(I.providerData=T.map((e=>Object.assign({},e)))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t,n=!1){const r=new B;r.updateFromServerResponse(t);const i=new $({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await j(i),i}}const q=new Map;function W(e){v(e instanceof Function,"Expected a class definition");let t=q.get(e);return t?(v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,q.set(e,t),t)}class H{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}H.type="NONE";const K=H;function G(e,t,n){return`firebase:${e}:${t}:${n}`}class Q{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=G(this.userKey,r.apiKey,i),this.fullPersistenceKey=G("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Q(W(K),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||W(K);const o=G(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=$._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Q(i,e,n)):new Q(i,e,n)}}function J(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(te(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(X(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(re(t))return"Blackberry";if(ie(t))return"Webos";if(Y(t))return"Safari";if((t.includes("chrome/")||ee(t))&&!t.includes("edge/"))return"Chrome";if(ne(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function X(e=(0,r.z$)()){return/firefox\//i.test(e)}function Y(e=(0,r.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ee(e=(0,r.z$)()){return/crios\//i.test(e)}function te(e=(0,r.z$)()){return/iemobile/i.test(e)}function ne(e=(0,r.z$)()){return/android/i.test(e)}function re(e=(0,r.z$)()){return/blackberry/i.test(e)}function ie(e=(0,r.z$)()){return/webos/i.test(e)}function oe(e=(0,r.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function se(e=(0,r.z$)()){return oe(e)||ne(e)||ie(e)||re(e)||/windows phone/i.test(e)||te(e)}function ae(e,t=[]){let n;switch(e){case"Browser":n=J((0,r.z$)());break;case"Worker":n=`${J((0,r.z$)())}-${e}`;break;default:n=e}const o=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${i.Jn}/${o}`}class le{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class ce{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ue{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new de(this),this.idTokenSubscription=new de(this),this.beforeStateQueue=new le(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=W(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Q.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return m(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await j(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,r.m9)(e):null;return t&&m(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&m(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(W(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return C(e,"GET","/v2/passwordPolicy",I(e,t))}(this),t=new ce(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new r.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return C(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&W(e)||this._popupRedirectResolver;m(t,this,"argument-error"),this.redirectPersistenceManager=await Q.create(this,[W(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(m(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){u.logLevel<=o.in.WARN&&u.warn(`Auth (${i.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function he(e){return(0,r.m9)(e)}class de{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,r.ne)((e=>this.observer=e))}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pe(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function fe(e){return`__${e}${Math.floor(1e6*Math.random())}`}class me{constructor(e){this.type="recaptcha-enterprise",this.auth=he(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;O(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return C(e,"GET","/v2/recaptchaConfig",I(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new D(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&O(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));pe("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ge(e,t,n,r=!1){const i=new me(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ve(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ge(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ge(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ye(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function we(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return g("not implemented")}_getIdTokenResponse(e){return g("not implemented")}_linkToIdToken(e,t){return g("not implemented")}_getReauthenticationResolver(e){return g("not implemented")}}async function Ee(e,t){return C(e,"POST","/v1/accounts:signUp",t)}async function Te(e,t){return x(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}class _e extends be{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _e(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _e(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ve(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Te);case"emailLink":return async function(e,t){return x(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ve(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ee);case"emailLink":return async function(e,t){return x(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Se(e,t){return x(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Ie extends be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ie(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,s._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ie(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Se(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Se(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Se(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,r.xO)(t)}return e}}const Ce={USER_NOT_FOUND:"user-not-found"};class ke extends be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ke({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ke({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return x(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await x(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(n.temporaryProof)throw N(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return x(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ce)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ke({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class xe{constructor(e){var t,n,i,o,s,a;const l=(0,r.zd)((0,r.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);m(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,r.zd)((0,r.pd)(e)).link,n=t?(0,r.zd)((0,r.pd)(t)).deep_link_id:null,i=(0,r.zd)((0,r.pd)(e)).deep_link_id;return(i?(0,r.zd)((0,r.pd)(i)).link:null)||i||n||t||e}(e);try{return new xe(t)}catch(e){return null}}}class Re{constructor(){this.providerId=Re.PROVIDER_ID}static credential(e,t){return _e._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xe.parseLink(t);return m(n,"argument-error"),_e._fromEmailAndCode(e,n.code,n.tenantId)}}Re.PROVIDER_ID="password",Re.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Re.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pe{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ae extends Pe{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ne extends Ae{constructor(){super("facebook.com")}static credential(e){return Ie._fromParams({providerId:Ne.PROVIDER_ID,signInMethod:Ne.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ne.credentialFromTaggedObject(e)}static credentialFromError(e){return Ne.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ne.credential(e.oauthAccessToken)}catch(e){return null}}}Ne.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ne.PROVIDER_ID="facebook.com";class Oe extends Ae{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ie._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oe.credentialFromTaggedObject(e)}static credentialFromError(e){return Oe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Oe.credential(t,n)}catch(e){return null}}}Oe.GOOGLE_SIGN_IN_METHOD="google.com",Oe.PROVIDER_ID="google.com";class De extends Ae{constructor(){super("github.com")}static credential(e){return Ie._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return De.credential(e.oauthAccessToken)}catch(e){return null}}}De.GITHUB_SIGN_IN_METHOD="github.com",De.PROVIDER_ID="github.com";class Me extends Ae{constructor(){super("twitter.com")}static credential(e,t){return Ie._fromParams({providerId:Me.PROVIDER_ID,signInMethod:Me.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Me.credentialFromTaggedObject(e)}static credentialFromError(e){return Me.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Me.credential(t,n)}catch(e){return null}}}Me.TWITTER_SIGN_IN_METHOD="twitter.com",Me.PROVIDER_ID="twitter.com";class Le{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await $._fromIdTokenResponse(e,n,r),o=Fe(n);return new Le({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Fe(n);return new Le({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Fe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ze extends r.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ze.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ze(e,t,n,r)}}function Ue(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ze._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ve(e,t,n=!1){const r="signIn",i=await Ue(e,r,t),o=await Le._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function je(e,t){return Ve(he(e),t)}new WeakMap;const Be="__sak";class ze{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Be,"1"),this.storage.removeItem(Be),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class $e extends ze{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,r.z$)();return Y(e)||oe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);(0,r.w1)()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$e.type="LOCAL";const qe=$e;class We extends ze{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}We.type="SESSION";const He=We;class Ke{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ke(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ge(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Ke.receivers=[];class Qe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Ge("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Je(){return window}function Xe(){return void 0!==Je().WorkerGlobalScope&&"function"==typeof Je().importScripts}const Ye="firebaseLocalStorageDb",et="firebaseLocalStorage",tt="fbase_key";class nt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rt(e,t){return e.transaction([et],t?"readwrite":"readonly").objectStore(et)}function it(){const e=indexedDB.open(Ye,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(et,{keyPath:tt})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(et)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ye);return new nt(e).toPromise()}(),t(await it()))}))}))}async function ot(e,t,n){const r=rt(e,!0).put({[tt]:t,value:n});return new nt(r).toPromise()}function st(e,t){const n=rt(e,!0).delete(t);return new nt(n).toPromise()}class at{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await it()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ke._getInstance(Xe()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await it();return await ot(e,Be,"1"),await st(e,Be),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ot(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rt(e,!1).get(t),r=await new nt(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>st(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rt(e,!1).getAll();return new nt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}at.type="LOCAL";const lt=at;fe("rcb"),new b(3e4,6e4);class ct{constructor(e){this.providerId=ct.PROVIDER_ID,this.auth=he(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(m("string"==typeof i,e,"argument-error"),m("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){m("enroll"===t.type,e,"internal-error");const n=await function(e,t){return C(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{m("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;m(n,e,"missing-multi-factor-info");const s=await function(e,t){return C(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return C(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,(0,r.m9)(t))}static credential(e,t){return ke._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ct.credentialFromTaggedObject(t)}static credentialFromError(e){return ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ke._fromTokenResponse(t,n):null}}ct.PROVIDER_ID="phone",ct.PHONE_SIGN_IN_METHOD="phone";class ut extends be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Se(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Se(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Se(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ht(e){return Ve(e.auth,new ut(e),e.bypassAuthState)}function dt(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Z(e,Ue(r,i,t,e),n);m(o.idToken,r,"internal-error");const s=F(o.idToken);m(s,r,"internal-error");const{sub:a}=s;return m(e.uid===a,r,"user-mismatch"),Le._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&d(r,"user-mismatch"),e}}(n,new ut(e),e.bypassAuthState)}async function pt(e){const{auth:t,user:n}=e;return m(n,t,"internal-error"),async function(e,t,n=!1){const r=await Z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Le._forOperation(e,"link",r)}(n,new ut(e),e.bypassAuthState)}class ft{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ht;case"linkViaPopup":case"linkViaRedirect":return pt;case"reauthViaPopup":case"reauthViaRedirect":return dt;default:d(this.auth,"internal-error")}}resolve(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mt=new b(2e3,1e4);class gt extends ft{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,gt.currentPopupAction&&gt.currentPopupAction.cancel(),gt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return m(e,this.auth,"internal-error"),e}async onExecution(){v(1===this.filter.length,"Popup operations only handle one event");const e=Ge();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,mt.get())};e()}}gt.currentPopupAction=null;const vt="pendingRedirect",yt=new Map;class wt extends ft{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=yt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return G(vt,e.config.apiKey,e.name)}(t),r=function(e){return W(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}yt.set(this.auth._key(),e)}return this.bypassAuthState||yt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function bt(e,t){yt.set(e._key(),t)}async function Et(e,t,n=!1){const r=he(e),i=function(e,t){return t?W(t):(m(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new wt(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Tt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return St(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!St(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_t(e))}saveEventToCache(e){this.cachedEventUids.add(_t(e)),this.lastProcessedEventTime=Date.now()}}function _t(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function St({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const It=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ct=/^https?/;function kt(e){const t=y(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ct.test(n))return!1;if(It.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xt=new b(3e4,6e4);function Rt(){const e=Je().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Pt=null;function At(e){return Pt=Pt||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Rt(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rt(),n(p(e,"network-request-failed"))},timeout:xt.get()})}if(null===(i=null===(r=Je().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Je().gapi)||void 0===o?void 0:o.load)){const t=fe("iframefcb");return Je()[t]=()=>{gapi.load?s():n(p(e,"network-request-failed"))},pe(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Pt=null,e}))}(e),Pt}const Nt=new b(5e3,15e3),Ot={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mt(e){const t=e.config;m(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,o={apiKey:t.apiKey,appName:e.name,v:i.Jn},s=Dt.get(e.config.apiHost);s&&(o.eid=s);const a=e._getFrameworks();return a.length&&(o.fw=a.join(",")),`${n}?${(0,r.xO)(o).slice(1)}`}const Lt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ft{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Zt=encodeURIComponent("fac");async function Ut(e,t,n,o,s,a){m(e.config.authDomain,e,"auth-domain-config-required"),m(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:o,v:i.Jn,eventId:s};if(t instanceof Pe){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,r.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ae){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const e of Object.keys(c))void 0===c[e]&&delete c[e];const u=await e._getAppCheckToken(),h=u?`#${Zt}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?E(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,r.xO)(c).slice(1)}${h}`}const Vt="webStorageSupport",jt=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=He,this._completeRedirectFn=Et,this._overrideRedirectResult=bt}async _openPopup(e,t,n,i){var o;return v(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,o=600){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Lt),{width:i.toString(),height:o.toString(),top:s,left:a}),u=(0,r.z$)().toLowerCase();n&&(l=ee(u)?"_blank":n),X(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=(0,r.z$)()){var t;return oe(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new Ft(null);const d=window.open(t||"",l,h);m(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Ft(d)}(e,await Ut(e,t,n,y(),i),Ge())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Ut(e,t,n,y(),r),Je().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await At(e),n=Je().gapi;return m(n,e,"internal-error"),t.open({where:document.body,url:Mt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ot,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),o=Je().setTimeout((()=>{r(i)}),Nt.get());function s(){Je().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Tt(e);return t.register("authEvent",(t=>(m(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vt,{type:Vt},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Vt];void 0!==i&&t(!!i),d(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return C(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(kt(e))return}catch(e){}d(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return se()||Y()||oe()}};var Bt="@firebase/auth",zt="1.5.1";class $t{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qt=(0,r.Pz)("authIdTokenMaxAge")||300;let Wt=null;const Ht=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qt)return;const i=null==n?void 0:n.token;Wt!==i&&(Wt=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kt(e=(0,i.Mq)()){const t=(0,i.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,i.qX)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!=t?t:{}))return e;d(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:jt,persistence:[lt,qe,He]}),o=(0,r.Pz)("authTokenSyncURL");if(o){const e=Ht(o);!function(e,t,n){(0,r.m9)(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,i,o){(0,r.m9)(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}const s=(0,r.q4)("auth");return s&&function(e,t,n){const r=he(e);m(r._canInitEmulator,r,"emulator-config-failed"),m(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=ye(t),{host:s,port:a}=function(e){const t=ye(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:we(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:we(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${s}`),n}var Gt;Gt="Browser",(0,i.Xd)(new a.wA("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;m(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:Gt,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ae(Gt)},l=new ue(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(W);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,i.Xd)(new a.wA("auth-internal",(e=>{return t=he(e.getProvider("auth").getImmediate()),new $t(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,i.KN)(Bt,zt,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Gt)),(0,i.KN)(Bt,zt,"esm2017")},3953:(e,t,n)=>{n.d(t,{hJ:()=>uu,oe:()=>lh,JU:()=>hu,QT:()=>rh,PL:()=>oh,ad:()=>fu,IO:()=>$u,pl:()=>sh,r7:()=>ah,ar:()=>Wu});var r,i=n(389),o=n(8463),s=n(3333),a=n(4444),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},c={},u=u||{},h=l||self;function d(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(){this.s=this.s,this.o=this.o}E.prototype.s=!1,E.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++m))},E.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(d(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};h.addEventListener("test",e,t),h.removeEventListener("test",e,t)}catch(e){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function x(){var e=h.navigator;return e&&(e=e.userAgent)?e:""}function R(e){return-1!=x().indexOf(e)}function P(e){return P[" "](e),e}P[" "]=function(){};var A,N,O,D=R("Opera"),M=R("Trident")||R("MSIE"),L=R("Edge"),F=L||M,Z=R("Gecko")&&!(-1!=x().toLowerCase().indexOf("webkit")&&!R("Edge"))&&!(R("Trident")||R("MSIE"))&&!R("Edge"),U=-1!=x().toLowerCase().indexOf("webkit")&&!R("Edge");function V(){var e=h.document;return e?e.documentMode:void 0}e:{var j="",B=(N=x(),Z?/rv:([^\);]+)(\)|;)/.exec(N):L?/Edge\/([\d\.]+)/.exec(N):M?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(N):U?/WebKit\/(\S+)/.exec(N):D?/(?:Version)[ \/]?(\S+)/.exec(N):void 0);if(B&&(j=B?B[1]:""),M){var z=V();if(null!=z&&z>parseFloat(j)){A=String(z);break e}}A=j}h.document&&M?O=V()||parseInt(A,10)||void 0:O=void 0;var $=O;function q(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Z){e:{try{P(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:W[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.$.h.call(this)}}b(q,I);var W={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),K=0;function G(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++K,this.fa=this.ia=!1}function Q(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function J(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function X(e){const t={};for(const n in e)t[n]=e[n];return t}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Y.length;t++)n=Y[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){this.src=e,this.g={},this.h=0}function ne(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Q(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function re(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}te.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=re(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new G(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ie="closure_lm_"+(1e6*Math.random()|0),oe={};function se(e,t,n,r,i){if(r&&r.once)return le(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)se(e,t[o],n,r,i);return null}return n=me(n),e&&e[H]?e.O(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!1,r,i)}function ae(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=pe(e);if(a||(e[ie]=a=new te(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){const e=de;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)C||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(he(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function le(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)le(e,t[o],n,r,i);return null}return n=me(n),e&&e[H]?e.P(t,n,p(r)?!!r.capture:!!r,i):ae(e,t,n,!0,r,i)}function ce(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ce(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=me(n),e&&e[H]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=re(o=e.g[t],n,r,i))&&(Q(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=re(t,n,r,i)),(n=-1<e?t[e]:null)&&ue(n))}function ue(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[H])ne(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(he(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pe(t))?(ne(n,e),0==n.h&&(n.src=null,t[ie]=null)):Q(e)}}}function he(e){return e in oe?oe[e]:oe[e]="on"+e}function de(e,t){if(e.fa)e=!0;else{t=new q(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ue(e),e=n.call(r,t)}return e}function pe(e){return(e=e[ie])instanceof te?e:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(e){return"function"==typeof e?e:(e[fe]||(e[fe]=function(t){return e.handleEvent(t)}),e[fe])}function ge(){E.call(this),this.i=new te(this),this.S=this,this.J=null}function ve(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;ee(t=new I(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ye(s,r,!0,t)&&i}if(i=ye(s=t.g=e,r,!0,t)&&i,i=ye(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ye(s=t.g=n[o],r,!1,t)&&i}function ye(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ne(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}b(ge,E),ge.prototype[H]=!0,ge.prototype.removeEventListener=function(e,t,n,r){ce(this,e,t,n,r)},ge.prototype.N=function(){if(ge.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Q(n[r]);delete t.g[e],t.h--}}this.J=null},ge.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ge.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var we=h.JSON.stringify;function be(){var e=ke;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ee=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Te),(e=>e.reset()));class Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _e(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Se(e){h.setTimeout((()=>{throw e}),0)}let Ie,Ce=!1,ke=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ee.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},xe=()=>{const e=h.Promise.resolve(void 0);Ie=()=>{e.then(Re)}};var Re=()=>{for(var e;e=be();){try{e.h.call(e.g)}catch(e){Se(e)}var t=Ee;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ce=!1};function Pe(e,t){ge.call(this),this.h=e||1,this.g=t||h,this.j=y(this.qb,this),this.l=Date.now()}function Ae(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ne(e,t,n){if("function"==typeof e)n&&(e=y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Oe(e){e.g=Ne((()=>{e.g=null,e.i&&(e.i=!1,Oe(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}b(Pe,ge),(r=Pe.prototype).ga=!1,r.T=null,r.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Ae(this),this.start()))}},r.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.N=function(){Pe.$.N.call(this),Ae(this),delete this.g};class De extends E{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(e){E.call(this),this.h=e,this.g={}}b(Me,E);var Le=[];function Fe(e,t,n,r){Array.isArray(n)||(n&&(Le[0]=n.toString()),n=Le);for(var i=0;i<n.length;i++){var o=se(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ze(e){J(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ue(e)}),e),e.g={}}function Ue(){this.g=!0}function Ve(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return we(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Me.prototype.N=function(){Me.$.N.call(this),Ze(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ue.prototype.Ea=function(){this.g=!1},Ue.prototype.info=function(){};var je={},Be=null;function ze(){return Be=Be||new ge}function $e(e){I.call(this,je.Ta,e)}function qe(e){const t=ze();ve(t,new $e(t))}function We(e,t){I.call(this,je.STAT_EVENT,e),this.stat=t}function He(e){const t=ze();ve(t,new We(t,e))}function Ke(e,t){I.call(this,je.Ua,e),this.size=t}function Ge(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}je.Ta="serverreachability",b($e,I),je.STAT_EVENT="statevent",b(We,I),je.Ua="timingevent",b(Ke,I);var Qe={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Je={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xe(){}function Ye(e){return e.h||(e.h=e.i())}function et(){}Xe.prototype.h=null;var tt,nt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rt(){I.call(this,"d")}function it(){I.call(this,"c")}function ot(){}function st(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Me(this),this.P=lt,e=F?125:void 0,this.V=new Pe(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}b(rt,I),b(it,I),b(ot,Xe),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},tt=new ot;var lt=45e3,ct={},ut={};function ht(e,t,n){e.L=1,e.A=Pt(It(t)),e.u=n,e.S=!0,dt(e,null)}function dt(e,t){e.G=Date.now(),gt(e),e.B=It(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),zt(n.i,"t",r),e.o=0,n=e.l.J,e.h=new at,e.g=$n(e.l,n?t:null,!e.u),0<e.O&&(e.M=new De(y(e.Pa,e,e.g),e.O)),Fe(e.U,e.g,"readystatechange",e.nb),t=e.I?X(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),qe(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function pt(e){return!!e.g&&"GET"==e.v&&2!=e.L&&e.l.Ha}function ft(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=mt(e,n),r==ut){4==t&&(e.s=4,He(14),i=!1),Ve(e.j,e.m,null,"[Incomplete Response]");break}if(r==ct){e.s=4,He(15),Ve(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ve(e.j,e.m,r,null),Et(e,r)}pt(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,He(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(t),t.M=!0,He(11))):(Ve(e.j,e.m,n,"[Invalid Chunked Response]"),bt(e),wt(e))}function mt(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ut:(n=Number(t.substring(n,r)),isNaN(n)?ct:(r+=1)+n>t.length?ut:(t=t.slice(r,r+n),e.o=r+n,t))}function gt(e){e.Y=Date.now()+e.P,vt(e,e.P)}function vt(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ge(y(e.lb,e),t)}function yt(e){e.C&&(h.clearTimeout(e.C),e.C=null)}function wt(e){0==e.l.H||e.J||Un(e.l,e)}function bt(e){yt(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ae(e.V),Ze(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Et(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Qt(n.i,e)))if(!e.K&&Qt(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Zn(n),xn(n)}Mn(n),He(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ge(y(n.ib,n),6e3));if(1>=Gt(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else jn(n,11)}else if((e.K||n.g==e)&&Zn(n),!k(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Jt(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Rt(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=zn(r,r.J?r.pa:null,r.Y),s.K){Xt(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(yt(a),gt(a)),r.g=s}else Dn(r);0<n.j.length&&Pn(n)}else"stop"!=c[0]&&"close"!=c[0]||jn(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?jn(n,7):kn(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}qe()}catch(e){}}function Tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(r=st.prototype).setTimeout=function(e){this.P=e},r.nb=function(e){e=e.target;const t=this.M;t&&3==En(e)?t.l():this.Pa(e)},r.Pa=function(e){try{if(e==this.g)e:{const u=En(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||F||this.g&&(this.h.h||this.g.ja()||Tn(this.g)))){this.J||4!=u||7==t||qe(),yt(this);var n=this.g.da();this.ca=n;t:if(pt(this)){var r=Tn(this.g);e="";var i=r.length,o=4==En(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bt(this),wt(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,He(12),bt(this),wt(this);break e}Ve(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Et(this,n)}this.S?(ft(this,u,s),F&&this.i&&3==u&&(Fe(this.U,this.V,"tick",this.mb),this.V.start())):(Ve(this.j,this.m,s,null),Et(this,s)),4==u&&bt(this),this.i&&!this.J&&(4==u?Un(this.l,this):(this.i=!1,gt(this)))}else(function(e){const t={};e=(e.g&&2<=En(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=_e(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),bt(this),wt(this)}}}catch(e){}},r.mb=function(){if(this.g){var e=En(this.g),t=this.g.ja();this.o<t.length&&(yt(this),ft(this,e,t),this.i&&4!=e&&gt(this))}},r.cancel=function(){this.J=!0,bt(this)},r.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(qe(),He(17)),bt(this),this.s=2,wt(this)):vt(this,this.Y-e)};var _t=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function St(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof St){this.h=e.h,Ct(this,e.j),this.s=e.s,this.g=e.g,kt(this,e.m),this.l=e.l;var t=e.i,n=new Ut;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xt(this,n),this.o=e.o}else e&&(t=String(e).match(_t))?(this.h=!1,Ct(this,t[1]||"",!0),this.s=At(t[2]||""),this.g=At(t[3]||"",!0),kt(this,t[4]),this.l=At(t[5]||"",!0),xt(this,t[6]||"",!0),this.o=At(t[7]||"")):(this.h=!1,this.i=new Ut(null,this.h))}function It(e){return new St(e)}function Ct(e,t,n){e.j=n?At(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function kt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xt(e,t,n){t instanceof Ut?(e.i=t,function(e,t){t&&!e.j&&(Vt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),zt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Nt(t,Ft)),e.i=new Ut(t,e.h))}function Rt(e,t,n){e.i.set(t,n)}function Pt(e){return Rt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function At(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}St.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Nt(t,Dt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Nt(t,Dt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Nt(n,"/"==n.charAt(0)?Lt:Mt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Nt(n,Zt)),e.join("")};var Dt=/[#\/\?@]/g,Mt=/[#\?:]/g,Lt=/[#\?]/g,Ft=/[#\?@]/g,Zt=/#/g;function Ut(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Vt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){Vt(e),t=$t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bt(e,t){return Vt(e),t=$t(e,t),e.g.has(t)}function zt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set($t(e,t),_(n)),e.h+=n.length)}function $t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Ut.prototype).add=function(e,t){Vt(this),this.i=null,e=$t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Vt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},r.ta=function(){Vt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.Z=function(e){Vt(this);let t=[];if("string"==typeof e)Bt(this,e)&&(t=t.concat(this.g.get($t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return Vt(this),this.i=null,Bt(this,e=$t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var qt=class{constructor(e,t){this.g=e,this.map=t}};function Wt(e){this.l=e||Ht,e=h.PerformanceNavigationTiming?0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(h.g&&h.g.Ka&&h.g.Ka()&&h.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ht=10;function Kt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gt(e){return e.h?1:e.g?e.g.size:0}function Qt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jt(e,t){e.g?e.g.add(t):e.h=t}function Xt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yt(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _(e.i)}Wt.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var en=class{stringify(e){return h.JSON.stringify(e,void 0)}parse(e){return h.JSON.parse(e,void 0)}};function tn(){this.g=new en}function nn(e,t,n){const r=n||"";try{Tt(e,(function(e,n){let i=e;p(e)&&(i=we(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function rn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function on(e){this.l=e.ec||null,this.j=e.ob||!1}function sn(e,t){ge.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=an,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b(on,Xe),on.prototype.g=function(){return new sn(this.l,this.j)},on.prototype.i=function(e){return function(){return e}}({}),b(sn,ge);var an=0;function ln(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function cn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,un(e)}function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=sn.prototype).open=function(e,t){if(this.readyState!=an)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||h).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cn(this)),this.readyState=an},r.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ln(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},r.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cn(this):un(this),3==this.readyState&&ln(this)}},r.Za=function(e){this.g&&(this.response=this.responseText=e,cn(this))},r.Ya=function(e){this.g&&(this.response=e,cn(this))},r.ka=function(){this.g&&cn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hn=h.JSON.parse;function dn(e){ge.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pn,this.L=this.M=!1}b(dn,ge);var pn="",fn=/^https?$/i,mn=["POST","PUT"];function gn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vn(e),wn(e)}function vn(e){e.F||(e.F=!0,ve(e,"complete"),ve(e,"error"))}function yn(e){if(e.h&&void 0!==u&&(!e.C[1]||4!=En(e)||2!=e.da()))if(e.v&&4==En(e))Ne(e.La,0,e);else if(ve(e,"readystatechange"),4==En(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(_t)[1]||null;!i&&h.self&&h.self.location&&(i=h.self.location.protocol.slice(0,-1)),r=!fn.test(i?i.toLowerCase():"")}n=r}if(n)ve(e,"complete"),ve(e,"success");else{e.m=6;try{var o=2<En(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",vn(e)}}finally{wn(e)}}}function wn(e,t){if(e.g){bn(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ve(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function bn(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function En(e){return e.g?e.g.readyState:0}function Tn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case pn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _n(e){let t="";return J(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Sn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_n(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Rt(e,t,n))}function In(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.Ga=0,this.j=[],this.l=new Ue,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=In("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=In("baseRetryDelayMs",5e3,e),this.hb=In("retryDelaySeedMs",1e4,e),this.eb=In("forwardChannelMaxRetries",2,e),this.xa=In("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Wt(e&&e.concurrentRequestLimit),this.Ja=new tn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kn(e){if(Rn(e),3==e.H){var t=e.W++,n=It(e.I);if(Rt(n,"SID",e.K),Rt(n,"RID",t),Rt(n,"TYPE","terminate"),Nn(e,n),(t=new st(e,e.l,t)).L=2,t.A=Pt(It(n)),n=!1,h.navigator&&h.navigator.sendBeacon)try{n=h.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&h.Image&&((new Image).src=t.A,n=!0),n||(t.g=$n(t.l,null),t.g.ha(t.A)),t.G=Date.now(),gt(t)}Bn(e)}function xn(e){e.g&&(Ln(e),e.g.cancel(),e.g=null)}function Rn(e){xn(e),e.u&&(h.clearTimeout(e.u),e.u=null),Zn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&h.clearTimeout(e.m),e.m=null)}function Pn(e){if(!Kt(e.i)&&!e.m){e.m=!0;var t=e.Na;Ie||xe(),Ce||(Ie(),Ce=!0),ke.add(t,e),e.C=0}}function An(e,t){var n;n=t?t.m:e.W++;const r=It(e.I);Rt(r,"SID",e.K),Rt(r,"RID",n),Rt(r,"AID",e.V),Nn(e,r),e.o&&e.s&&Sn(r,e.o,e.s),n=new st(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=On(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Jt(e.i,n),ht(n,r,t)}function Nn(e,t){e.na&&J(e.na,(function(e,n){Rt(t,n,e)})),e.h&&Tt({},(function(e,n){Rt(t,n,e)}))}function On(e,t,n){n=Math.min(e.j.length,n);var r=e.h?y(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{nn(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Dn(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ie||xe(),Ce||(Ie(),Ce=!0),ke.add(t,e),e.A=0}}function Mn(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=Ge(y(e.Ma,e),Vn(e,e.A)),e.A++,0))}function Ln(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Fn(e){e.g=new st(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=It(e.wa);Rt(t,"RID","rpc"),Rt(t,"SID",e.K),Rt(t,"AID",e.V),Rt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Rt(t,"TO",e.qa),Rt(t,"TYPE","xmlhttp"),Nn(e,t),e.o&&e.s&&Sn(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Pt(It(t)),n.u=null,n.S=!0,dt(n,e)}function Zn(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function Un(e,t){var n=null;if(e.g==t){Zn(e),Ln(e),e.g=null;var r=2}else{if(!Qt(e.i,t))return;n=t.F,Xt(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ve(r=ze(),new Ke(r,n)),Pn(e)}else Dn(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Gt(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Ge(y(e.Na,e,t),Vn(e,e.C)),e.C++,0)))}(e,t)||2==r&&Mn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:jn(e,5);break;case 4:jn(e,10);break;case 3:jn(e,6);break;default:jn(e,2)}}function Vn(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function jn(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=y(e.pb,e);n||(n=new St("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ct(n,"https"),Pt(n)),function(e,t){const n=new Ue;if(h.Image){const r=new Image;r.onload=w(rn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(rn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(rn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(rn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else He(2);e.H=0,e.h&&e.h.za(t),Bn(e),Rn(e)}function Bn(e){if(e.H=0,e.ma=[],e.h){const t=Yt(e.i);0==t.length&&0==e.j.length||(S(e.ma,t),S(e.ma,e.j),e.i.i.length=0,_(e.j),e.j.length=0),e.h.ya()}}function zn(e,t,n){var r=n instanceof St?It(n):new St(n);if(""!=r.g)t&&(r.g=t+"."+r.g),kt(r,r.m);else{var i=h.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new St(null);r&&Ct(o,r),t&&(o.g=t),i&&kt(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Rt(r,n,t),Rt(r,"VER",e.ra),Nn(e,r),r}function $n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new dn(new on({ob:n})):new dn(e.va)).Oa(e.J),t}function qn(){}function Wn(){if(M&&!(10<=Number($)))throw Error("Environmental error: no available transport.")}function Hn(e,t){ge.call(this),this.g=new Cn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!k(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Qn(this)}function Kn(e){rt.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gn(){it.call(this),this.status=1}function Qn(e){this.g=e}function Jn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Xn(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Yn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(r=dn.prototype).Oa=function(e){this.M=e},r.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():tt.g(),this.C=this.u?Ye(this.u):Ye(tt),this.g.onreadystatechange=y(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void gn(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=h.FormData&&e instanceof h.FormData,!(0<=T(mn,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bn(this),0<this.B&&((this.L=function(e){return M&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.ua,this)):this.A=Ne(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){gn(this,e)}},r.ua=function(){void 0!==u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ve(this,"complete"),ve(this,"abort"),wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wn(this,!0)),dn.$.N.call(this)},r.La=function(){this.s||(this.G||this.v||this.l?yn(this):this.kb())},r.kb=function(){yn(this)},r.isActive=function(){return!!this.g},r.da=function(){try{return 2<En(this)?this.g.status:-1}catch(e){return-1}},r.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hn(t)}},r.Ia=function(){return this.m},r.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Cn.prototype).ra=8,r.H=1,r.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new st(this,this.l,e);let o=this.s;if(this.U&&(o?(o=X(o),ee(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=On(this,i,t),Rt(n=It(this.I),"RID",e),Rt(n,"CVER",22),this.F&&Rt(n,"X-HTTP-Session-Id",this.F),Nn(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(_n(o)))+"&"+t:this.o&&Sn(n,this.o,o)),Jt(this.i,i),this.bb&&Rt(n,"TYPE","init"),this.P?(Rt(n,"$req",t),Rt(n,"SID","null"),i.aa=!0,ht(i,n,null)):ht(i,n,t),this.H=2}}else 3==this.H&&(e?An(this,e):0==this.j.length||Kt(this.i)||An(this))},r.Ma=function(){if(this.u=null,Fn(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ge(y(this.jb,this),e)}},r.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,He(10),xn(this),Fn(this))},r.ib=function(){null!=this.v&&(this.v=null,xn(this),Mn(this),He(19))},r.pb=function(e){e?(this.l.info("Successfully pinged google.com"),He(2)):(this.l.info("Failed to ping google.com"),He(1))},r.isActive=function(){return!!this.h&&this.h.isActive(this)},(r=qn.prototype).Ba=function(){},r.Aa=function(){},r.za=function(){},r.ya=function(){},r.isActive=function(){return!0},r.Va=function(){},Wn.prototype.g=function(e,t){return new Hn(e,t)},b(Hn,ge),Hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;He(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zn(e,null,e.Y),Pn(e)},Hn.prototype.close=function(){kn(this.g)},Hn.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=we(e),e=n);t.j.push(new qt(t.fb++,e)),3==t.H&&Pn(t)},Hn.prototype.N=function(){this.g.h=null,delete this.j,kn(this.g),delete this.g,Hn.$.N.call(this)},b(Kn,rt),b(Gn,it),b(Qn,qn),Qn.prototype.Ba=function(){ve(this.g,"a")},Qn.prototype.Aa=function(e){ve(this.g,new Kn(e))},Qn.prototype.za=function(e){ve(this.g,new Gn)},Qn.prototype.ya=function(){ve(this.g,"b")},b(Jn,(function(){this.blockSize=-1})),Jn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jn.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Xn(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Xn(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Xn(this,r),i=0;break}}this.h=i,this.i+=t},Jn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var er={};function tr(e){return-128<=e&&128>e?function(e,t){var n=er;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new Yn([0|e],0>e?-1:0)}(e)}(e):new Yn([0|e],0>e?-1:0)}function nr(e){if(isNaN(e)||!isFinite(e))return ir;if(0>e)return cr(nr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=rr;return new Yn(t,0)}var rr=4294967296,ir=tr(0),or=tr(1),sr=tr(16777216);function ar(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function lr(e){return-1==e.h}function cr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Yn(n,~e.h).add(or)}function ur(e,t){return e.add(cr(t))}function hr(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function dr(e,t){this.g=e,this.h=t}function pr(e,t){if(ar(t))throw Error("division by zero");if(ar(e))return new dr(ir,ir);if(lr(e))return t=pr(cr(e),t),new dr(cr(t.g),cr(t.h));if(lr(t))return t=pr(e,cr(t)),new dr(cr(t.g),t.h);if(30<e.g.length){if(lr(e)||lr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=or,r=t;0>=r.X(e);)n=fr(n),r=fr(r);var i=mr(n,1),o=mr(r,1);for(r=mr(r,2),n=mr(n,2);!ar(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=mr(r,1),n=mr(n,1)}return t=ur(e,i.R(t)),new dr(i,t)}for(i=ir;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=nr(n)).R(t);lr(s)||0<s.X(e);)s=(o=nr(n-=r)).R(t);ar(o)&&(o=or),i=i.add(o),e=ur(e,s)}return new dr(i,e)}function fr(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Yn(n,e.h)}function mr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Yn(i,e.h)}(r=Yn.prototype).ea=function(){if(lr(this))return-cr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:rr+r)*t,t*=rr}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ar(this))return"0";if(lr(this))return"-"+cr(this).toString(e);for(var t=nr(Math.pow(e,6)),n=this,r="";;){var i=pr(n,t).g,o=((0<(n=ur(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ar(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},r.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.X=function(e){return lr(e=ur(this,e))?-1:ar(e)?0:1},r.abs=function(){return lr(this)?cr(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Yn(n,-2147483648&n[n.length-1]?-1:0)},r.R=function(e){if(ar(this)||ar(e))return ir;if(lr(this))return lr(e)?cr(this).R(cr(e)):cr(cr(this).R(e));if(lr(e))return cr(this.R(cr(e)));if(0>this.X(sr)&&0>e.X(sr))return nr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,hr(n,2*r+2*i),n[2*r+2*i+1]+=o*l,hr(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,hr(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,hr(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Yn(n,0)},r.gb=function(e){return pr(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Yn(n,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Yn(n,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Yn(n,this.h^e.h)},Wn.prototype.createWebChannel=Wn.prototype.g,Hn.prototype.send=Hn.prototype.u,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Je.COMPLETE="complete",et.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",ge.prototype.listen=ge.prototype.O,dn.prototype.listenOnce=dn.prototype.P,dn.prototype.getLastError=dn.prototype.Sa,dn.prototype.getLastErrorCode=dn.prototype.Ia,dn.prototype.getStatus=dn.prototype.da,dn.prototype.getResponseJson=dn.prototype.Wa,dn.prototype.getResponseText=dn.prototype.ja,dn.prototype.send=dn.prototype.ha,dn.prototype.setWithCredentials=dn.prototype.Oa,Jn.prototype.digest=Jn.prototype.l,Jn.prototype.reset=Jn.prototype.reset,Jn.prototype.update=Jn.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=nr,Yn.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return cr(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nr(Math.pow(n,8)),i=ir,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=nr(Math.pow(n,s)),i=i.R(s).add(nr(a))):i=(i=i.R(r)).add(nr(a))}return i};var gr=c.createWebChannelTransport=function(){return new Wn},vr=c.getStatEventTarget=function(){return ze()},yr=c.ErrorCode=Qe,wr=c.EventType=Je,br=c.Event=je,Er=c.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tr=(c.FetchXmlHttpFactory=on,c.WebChannel=et),_r=c.XhrIo=dn,Sr=c.Md5=Jn,Ir=c.Integer=Yn;const Cr="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let xr="10.7.2";const Rr=new s.Yd("@firebase/firestore");function Pr(){return Rr.logLevel}function Ar(e,...t){if(Rr.logLevel<=s.in.DEBUG){const n=t.map(Dr);Rr.debug(`Firestore (${xr}): ${e}`,...n)}}function Nr(e,...t){if(Rr.logLevel<=s.in.ERROR){const n=t.map(Dr);Rr.error(`Firestore (${xr}): ${e}`,...n)}}function Or(e,...t){if(Rr.logLevel<=s.in.WARN){const n=t.map(Dr);Rr.warn(`Firestore (${xr}): ${e}`,...n)}}function Dr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mr(e="Unexpected state"){const t=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+e;throw Nr(t),new Error(t)}function Lr(e,t){e||Mr()}function Fr(e,t){return e}const Zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ur extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class jr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Br{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kr.UNAUTHENTICATED)))}shutdown(){}}class zr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $r{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ar("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ar("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vr)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ar("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Lr("string"==typeof t.accessToken),new jr(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lr(null===e||"string"==typeof e),new kr(e)}}class qr{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wr{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qr(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(kr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kr{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ar("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Ar("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ar("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ar("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Lr("string"==typeof e.token),this.R=e.token,new Hr(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Qr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Gr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Jr(e,t){return e<t?-1:e>t?1:0}function Xr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ur(Zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ur(Zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ur(Zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ur(Zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Yr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jr(this.nanoseconds,e.nanoseconds):Jr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ei{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ei(e)}static min(){return new ei(new Yr(0,0))}static max(){return new ei(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ti{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mr(),void 0===n?n=e.length-t:n>e.length-t&&Mr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ti.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ni extends ti{construct(e,t,n){return new ni(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ur(Zr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new ni(t)}static emptyPath(){return new ni([])}}const ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ii extends ti{construct(e,t,n){return new ii(e,t,n)}static isValidIdentifier(e){return ri.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ii.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ii(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ur(Zr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ur(Zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ur(Zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ur(Zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ii(t)}static emptyPath(){return new ii([])}}class oi{constructor(e){this.path=e}static fromPath(e){return new oi(ni.fromString(e))}static fromName(e){return new oi(ni.fromString(e).popFirst(5))}static empty(){return new oi(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ni.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ni.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oi(new ni(e.slice()))}}function si(e){return new ai(e.readTime,e.key,-1)}class ai{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ai(ei.min(),oi.empty(),-1)}static max(){return new ai(ei.max(),oi.empty(),-1)}}function li(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oi.comparator(e.documentKey,t.documentKey),0!==n?n:Jr(e.largestBatchId,t.largestBatchId))}const ci="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function hi(e){if(e.code!==Zr.FAILED_PRECONDITION||e.message!==ci)throw e;Ar("LocalStore","Unexpectedly lost primary lease")}class di{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new di(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof di?t:di.resolve(t)}catch(e){return di.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):di.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):di.reject(t)}static resolve(e){return new di(((t,n)=>{t(e)}))}static reject(e){return new di(((t,n)=>{n(e)}))}static waitFor(e){return new di(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=di.resolve(!1);for(const n of e)t=t.next((e=>e?di.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new di(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new di(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class pi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new gi(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ei(t.target.error);this.V.reject(new gi(e,n))}}static open(e,t,n,r){try{return new pi(t,e.transaction(r,n))}catch(e){throw new gi(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ar("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yi(t)}}class fi{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===fi.S((0,a.z$)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ar("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a.hl)())return!1;if(fi.C())return!0;const e=(0,a.z$)(),t=fi.S(e),n=0<t&&t<10,r=fi.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ar("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new gi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ur(Zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ur(Zr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new gi(e,r))},r.onupgradeneeded=e=>{Ar("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ar("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=pi.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),di.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ar("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class mi{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wi(this.k.delete())}}class gi extends Ur{constructor(e,t){super(Zr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vi(e){return"IndexedDbTransactionError"===e.name}class yi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ar("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ar("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),wi(n)}add(e){return Ar("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ar("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ar("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return Ar("SimpleDb","COUNT",this.store.name),wi(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new di(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new di(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ar("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new di(((n,r)=>{t.onerror=e=>{const t=Ei(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new di(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new mi(i),s=t(i.primaryKey,i.value,o);if(s instanceof di){const e=s.catch((e=>(o.done(),di.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>di.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wi(e){return new di(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ei(e.target.error);n(t)}}))}let bi=!1;function Ei(e){const t=fi.S((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ur("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bi||(bi=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ti{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function _i(e){return null==e}function Si(e){return 0===e&&1/e==-1/0}Ti._e=-1;function Ii(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ci(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ki(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xi{constructor(e,t){this.comparator=e,this.root=t||Pi.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ri(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ri(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ri(this.root,e,this.comparator,!0)}}class Ri{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pi.RED,this.left=null!=r?r:Pi.EMPTY,this.right=null!=i?i:Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mr();if(this.right.isRed())throw Mr();const e=this.left.check();if(e!==this.right.check())throw Mr();return e+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw Mr()}get value(){throw Mr()}get color(){throw Mr()}get left(){throw Mr()}get right(){throw Mr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ai{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ni(this.data.getIterator())}getIteratorFrom(e){return new Ni(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ai))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ai(this.comparator);return t.data=e,t}}class Ni{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Oi{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new Oi([])}unionWith(e){let t=new Ai(ii.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Di extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Di("Invalid base64 string: "+e):e}}(e);return new Mi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Li=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(e){if(Lr(!!e),"string"==typeof e){let t=0;const n=Li.exec(e);if(Lr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zi(e.seconds),nanos:Zi(e.nanos)}}function Zi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ui(e){return"string"==typeof e?Mi.fromBase64String(e):Mi.fromUint8Array(e)}function Vi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ji(e){const t=e.mapValue.fields.__previous_value__;return Vi(t)?ji(t):t}function Bi(e){const t=Fi(e.mapValue.fields.__local_write_time__.timestampValue);return new Yr(t.seconds,t.nanos)}class zi{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class $i{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $i("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $i&&e.projectId===this.projectId&&e.database===this.database}}const qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vi(e)?4:so(e)?9007199254740991:10:Mr()}function Hi(e,t){if(e===t)return!0;const n=Wi(e);if(n!==Wi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bi(e).isEqual(Bi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fi(e.timestampValue),r=Fi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ui(e.bytesValue).isEqual(Ui(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zi(e.geoPointValue.latitude)===Zi(t.geoPointValue.latitude)&&Zi(e.geoPointValue.longitude)===Zi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zi(e.integerValue)===Zi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Zi(e.doubleValue),r=Zi(t.doubleValue);return n===r?Si(n)===Si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xr(e.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ii(n)!==Ii(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Hi(n[e],r[e])))return!1;return!0}(e,t);default:return Mr()}}function Ki(e,t){return void 0!==(e.values||[]).find((e=>Hi(e,t)))}function Gi(e,t){if(e===t)return 0;const n=Wi(e),r=Wi(t);if(n!==r)return Jr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Zi(e.integerValue||e.doubleValue),r=Zi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qi(e.timestampValue,t.timestampValue);case 4:return Qi(Bi(e),Bi(t));case 5:return Jr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ui(e),r=Ui(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Jr(n[e],r[e]);if(0!==t)return t}return Jr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Jr(Zi(e.latitude),Zi(t.latitude));return 0!==n?n:Jr(Zi(e.longitude),Zi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Gi(n[e],r[e]);if(t)return t}return Jr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===qi.mapValue&&t===qi.mapValue)return 0;if(e===qi.mapValue)return 1;if(t===qi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Jr(r[e],o[e]);if(0!==t)return t;const s=Gi(n[r[e]],i[o[e]]);if(0!==s)return s}return Jr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Mr()}}function Qi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jr(e,t);const n=Fi(e),r=Fi(t),i=Jr(n.seconds,r.seconds);return 0!==i?i:Jr(n.nanos,r.nanos)}function Ji(e){return Xi(e)}function Xi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ui(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oi.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Xi(e.fields[i])}`;return n+"}"}(e.mapValue):Mr()}function Yi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eo(e){return!!e&&"integerValue"in e}function to(e){return!!e&&"arrayValue"in e}function no(e){return!!e&&"nullValue"in e}function ro(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function io(e){return!!e&&"mapValue"in e}function oo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ci(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=oo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function so(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!io(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(t)}setAll(e){let t=ii.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());io(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];io(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ci(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new ao(oo(this.value))}}function lo(e){const t=[];return Ci(e.fields,((e,n)=>{const r=new ii([e]);if(io(n)){const e=lo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Oi(t)}class co{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new co(e,0,ei.min(),ei.min(),ei.min(),ao.empty(),0)}static newFoundDocument(e,t,n,r){return new co(e,1,t,ei.min(),n,r,0)}static newNoDocument(e,t){return new co(e,2,t,ei.min(),ei.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new co(e,3,t,ei.min(),ei.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ei.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ei.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof co&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new co(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uo{constructor(e,t){this.position=e,this.inclusive=t}}function ho(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?oi.comparator(oi.fromName(s.referenceValue),n.key):Gi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function po(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hi(e.position[n],t.position[n]))return!1;return!0}class fo{constructor(e,t="asc"){this.field=e,this.dir=t}}function mo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class go{}class vo extends go{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new So(e,t,n):"array-contains"===t?new xo(e,n):"in"===t?new Ro(e,n):"not-in"===t?new Po(e,n):"array-contains-any"===t?new Ao(e,n):new vo(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Io(e,n):new Co(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gi(t,this.value)):null!==t&&Wi(this.value)===Wi(t)&&this.matchesComparison(Gi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends go{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new yo(e,t)}matches(e){return wo(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wo(e){return"and"===e.op}function bo(e){return function(e){for(const t of e.filters)if(t instanceof yo)return!1;return!0}(e)&&wo(e)}function Eo(e){if(e instanceof vo)return e.field.canonicalString()+e.op.toString()+Ji(e.value);if(bo(e))return e.filters.map((e=>Eo(e))).join(",");{const t=e.filters.map((e=>Eo(e))).join(",");return`${e.op}(${t})`}}function To(e,t){return e instanceof vo?function(e,t){return t instanceof vo&&e.op===t.op&&e.field.isEqual(t.field)&&Hi(e.value,t.value)}(e,t):e instanceof yo?function(e,t){return t instanceof yo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&To(n,t.filters[r])),!0)}(e,t):void Mr()}function _o(e){return e instanceof vo?function(e){return`${e.field.canonicalString()} ${e.op} ${Ji(e.value)}`}(e):e instanceof yo?function(e){return e.op.toString()+" {"+e.getFilters().map(_o).join(" ,")+"}"}(e):"Filter"}class So extends vo{constructor(e,t,n){super(e,t,n),this.key=oi.fromName(n.referenceValue)}matches(e){const t=oi.comparator(e.key,this.key);return this.matchesComparison(t)}}class Io extends vo{constructor(e,t){super(e,"in",t),this.keys=ko(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Co extends vo{constructor(e,t){super(e,"not-in",t),this.keys=ko(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ko(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>oi.fromName(e.referenceValue)))}class xo extends vo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return to(t)&&Ki(t.arrayValue,this.value)}}class Ro extends vo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ki(this.value.arrayValue,t)}}class Po extends vo{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ki(this.value.arrayValue,t)}}class Ao extends vo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!to(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ki(this.value.arrayValue,e)))}}class No{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Oo(e,t=null,n=[],r=[],i=null,o=null,s=null){return new No(e,t,n,r,i,o,s)}function Do(e){const t=Fr(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Eo(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),_i(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ji(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ji(e))).join(",")),t.ce=e}return t.ce}function Mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!mo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!To(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!po(e.startAt,t.startAt)&&po(e.endAt,t.endAt)}function Lo(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fo{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Zo(e){return new Fo(e)}function Uo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Vo(e){return null!==e.collectionGroup}function jo(e){const t=Fr(e);if(null===t.le){t.le=[];const e=new Set;for(const n of t.explicitOrderBy)t.le.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ai(ii.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new fo(r,n))})),e.has(ii.keyField().canonicalString())||t.le.push(new fo(ii.keyField(),n))}return t.le}function Bo(e){const t=Fr(e);return t.he||(t.he=function(e,t){if("F"===e.limitType)return Oo(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new fo(e.field,t)}));const n=e.endAt?new uo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uo(e.startAt.position,e.startAt.inclusive):null;return Oo(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,jo(e))),t.he}function zo(e,t){const n=e.filters.concat([t]);return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $o(e,t,n){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qo(e,t){return Mo(Bo(e),Bo(t))&&e.limitType===t.limitType}function Wo(e){return`${Do(Bo(e))}|lt:${e.limitType}`}function Ho(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>_o(e))).join(", ")}]`),_i(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ji(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ji(e))).join(",")),`Target(${t})`}(Bo(e))}; limitType=${e.limitType})`}function Ko(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of jo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jo(e),t)||e.endAt&&!function(e,t,n){const r=ho(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jo(e),t))}(e,t)}function Go(e){return(t,n)=>{let r=!1;for(const i of jo(e)){const e=Qo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qo(e,t,n){const r=e.field.isKeyField()?oi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gi(r,i):Mr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mr()}}class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ki(this.inner)}size(){return this.innerSize}}const Xo=new xi(oi.comparator);function Yo(){return Xo}const es=new xi(oi.comparator);function ts(...e){let t=es;for(const n of e)t=t.insert(n.key,n);return t}function ns(e){let t=es;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function rs(){return os()}function is(){return os()}function os(){return new Jo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ss=new xi(oi.comparator),as=new Ai(oi.comparator);function ls(...e){let t=as;for(const n of e)t=t.add(n);return t}const cs=new Ai(Jr);function us(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Si(t)?"-0":t}}function hs(e){return{integerValue:""+e}}function ds(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?hs(t):us(e,t)}class ps{constructor(){this._=void 0}}function fs(e,t,n){return e instanceof vs?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vi(t)&&(t=ji(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ys?ws(e,t):e instanceof bs?Es(e,t):function(e,t){const n=gs(e,t),r=_s(n)+_s(e.Ie);return eo(n)&&eo(e.Ie)?hs(r):us(e.serializer,r)}(e,t)}function ms(e,t,n){return e instanceof ys?ws(e,t):e instanceof bs?Es(e,t):n}function gs(e,t){return e instanceof Ts?function(e){return eo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class vs extends ps{}class ys extends ps{constructor(e){super(),this.elements=e}}function ws(e,t){const n=Ss(t);for(const t of e.elements)n.some((e=>Hi(e,t)))||n.push(t);return{arrayValue:{values:n}}}class bs extends ps{constructor(e){super(),this.elements=e}}function Es(e,t){let n=Ss(t);for(const t of e.elements)n=n.filter((e=>!Hi(e,t)));return{arrayValue:{values:n}}}class Ts extends ps{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function _s(e){return Zi(e.integerValue||e.doubleValue)}function Ss(e){return to(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Is{constructor(e,t){this.version=e,this.transformResults=t}}class Cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ks(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xs{}function Rs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Us(e.key,Cs.none()):new Ds(e.key,e.data,Cs.none());{const n=e.data,r=ao.empty();let i=new Ai(ii.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ms(e.key,r,new Oi(i.toArray()),Cs.none())}}function Ps(e,t,n){e instanceof Ds?function(e,t,n){const r=e.value.clone(),i=Fs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ms?function(e,t,n){if(!ks(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ls(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function As(e,t,n,r){return e instanceof Ds?function(e,t,n,r){if(!ks(e.precondition,t))return n;const i=e.value.clone(),o=Zs(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ms?function(e,t,n,r){if(!ks(e.precondition,t))return n;const i=Zs(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ls(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ks(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ns(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=gs(r.transform,e||null);null!=i&&(null===n&&(n=ao.empty()),n.set(r.field,i))}return n||null}function Os(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ys&&t instanceof ys||e instanceof bs&&t instanceof bs?Xr(e.elements,t.elements,Hi):e instanceof Ts&&t instanceof Ts?Hi(e.Ie,t.Ie):e instanceof vs&&t instanceof vs}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ds extends xs{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ms extends xs{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ls(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Fs(e,t,n){const r=new Map;Lr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ms(s,a,n[i]))}return r}function Zs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,fs(e,o,t))}return r}class Us extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vs extends xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class js{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ps(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=As(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=As(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=is();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Rs(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(ei.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ls())}isEqual(e){return this.batchId===e.batchId&&Xr(this.mutations,e.mutations,((e,t)=>Os(e,t)))&&Xr(this.baseMutations,e.baseMutations,((e,t)=>Os(e,t)))}}class Bs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Lr(e.mutations.length===n.length);let r=ss;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Bs(e,t,n,r)}}class zs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $s{constructor(e,t){this.count=e,this.unchangedNames=t}}var qs,Ws;function Hs(e){if(void 0===e)return Nr("GRPC error has no .code"),Zr.UNKNOWN;switch(e){case qs.OK:return Zr.OK;case qs.CANCELLED:return Zr.CANCELLED;case qs.UNKNOWN:return Zr.UNKNOWN;case qs.DEADLINE_EXCEEDED:return Zr.DEADLINE_EXCEEDED;case qs.RESOURCE_EXHAUSTED:return Zr.RESOURCE_EXHAUSTED;case qs.INTERNAL:return Zr.INTERNAL;case qs.UNAVAILABLE:return Zr.UNAVAILABLE;case qs.UNAUTHENTICATED:return Zr.UNAUTHENTICATED;case qs.INVALID_ARGUMENT:return Zr.INVALID_ARGUMENT;case qs.NOT_FOUND:return Zr.NOT_FOUND;case qs.ALREADY_EXISTS:return Zr.ALREADY_EXISTS;case qs.PERMISSION_DENIED:return Zr.PERMISSION_DENIED;case qs.FAILED_PRECONDITION:return Zr.FAILED_PRECONDITION;case qs.ABORTED:return Zr.ABORTED;case qs.OUT_OF_RANGE:return Zr.OUT_OF_RANGE;case qs.UNIMPLEMENTED:return Zr.UNIMPLEMENTED;case qs.DATA_LOSS:return Zr.DATA_LOSS;default:return Mr()}}(Ws=qs||(qs={}))[Ws.OK=0]="OK",Ws[Ws.CANCELLED=1]="CANCELLED",Ws[Ws.UNKNOWN=2]="UNKNOWN",Ws[Ws.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ws[Ws.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ws[Ws.NOT_FOUND=5]="NOT_FOUND",Ws[Ws.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ws[Ws.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ws[Ws.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ws[Ws.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ws[Ws.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ws[Ws.ABORTED=10]="ABORTED",Ws[Ws.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ws[Ws.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ws[Ws.INTERNAL=13]="INTERNAL",Ws[Ws.UNAVAILABLE=14]="UNAVAILABLE",Ws[Ws.DATA_LOSS=15]="DATA_LOSS";const Ks=new Ir([4294967295,4294967295],0);function Gs(e){const t=(new TextEncoder).encode(e),n=new Sr;return n.update(t),new Uint8Array(n.digest())}function Qs(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ir([n,r],0),new Ir([i,o],0)]}class Js{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xs(`Invalid padding: ${t}`);if(n<0)throw new Xs(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Xs(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Xs(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ir.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Ir.fromNumber(n)));return 1===r.compare(Ks)&&(r=new Ir([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Gs(e),[n,r]=Qs(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,r,e);if(!this.Ae(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Js(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Gs(e),[n,r]=Qs(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,r,e);this.Re(t)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ys{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ys(ei.min(),r,new xi(Jr),Yo(),ls())}}class ea{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ea(n,t,ls(),ls(),ls())}}class ta{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class na{constructor(e,t){this.targetId=e,this.fe=t}}class ra{constructor(e,t,n=Mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ia{constructor(){this.ge=0,this.pe=aa(),this.ye=Mi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ls(),t=ls(),n=ls();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mr()}})),new ea(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=aa()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Lr(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class oa{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yo(),this.Qe=sa(),this.Ke=new xi(Jr)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Mr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Lo(i))if(0===n){const e=new oi(i.path);this.We(t,e,co.newNoDocument(e,ei.min()))}else Lr(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Ui(n).toUint8Array()}catch(e){if(e instanceof Di)return Or("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Js(o,r,i)}catch(e){return Or(e instanceof Xs?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Lo(i.target)){const t=new oi(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,co.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=ls();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Ys(e,t,this.Ke,this.qe,n);return this.qe=Yo(),this.Qe=sa(),this.Ke=new xi(Jr),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ia,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ai(Jr),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ar("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ia),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sa(){return new xi(oi.comparator)}function aa(){return new xi(oi.comparator)}const la={asc:"ASCENDING",desc:"DESCENDING"},ca={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ua={and:"AND",or:"OR"};class ha{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function da(e,t){return e.useProto3Json||_i(t)?t:{value:t}}function pa(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fa(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ma(e,t){return pa(e,t.toTimestamp())}function ga(e){return Lr(!!e),ei.fromTimestamp(function(e){const t=Fi(e);return new Yr(t.seconds,t.nanos)}(e))}function va(e,t){return ya(e,t).canonicalString()}function ya(e,t){const n=function(e){return new ni(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function wa(e){const t=ni.fromString(e);return Lr(Fa(t)),t}function ba(e,t){return va(e.databaseId,t.path)}function Ea(e,t){const n=wa(t);if(n.get(1)!==e.databaseId.projectId)throw new Ur(Zr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ur(Zr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oi(Sa(n))}function Ta(e,t){return va(e.databaseId,t)}function _a(e){return new ni(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sa(e){return Lr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ia(e,t,n){return{name:ba(e,t),fields:n.value.mapValue.fields}}function Ca(e,t){return{documents:[Ta(e,t.path)]}}function ka(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ta(e,i);const o=function(e){if(0!==e.length)return Ma(yo.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Oa(e.field),direction:Pa(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=da(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function xa(e){let t=function(e){const t=wa(e);return 4===t.length?ni.emptyPath():Sa(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Lr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ra(e);return t instanceof yo&&bo(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new fo(Da(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,_i(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new uo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new uo(n,t)}(n.endAt)),function(e,t,n,r,i,o,s,a){return new Fo(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",l,c)}function Ra(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Da(e.unaryFilter.field);return vo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Da(e.unaryFilter.field);return vo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Da(e.unaryFilter.field);return vo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Da(e.unaryFilter.field);return vo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mr()}}(e):void 0!==e.fieldFilter?function(e){return vo.create(Da(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mr()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yo.create(e.compositeFilter.filters.map((e=>Ra(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mr()}}(e.compositeFilter.op))}(e):Mr()}function Pa(e){return la[e]}function Aa(e){return ca[e]}function Na(e){return ua[e]}function Oa(e){return{fieldPath:e.canonicalString()}}function Da(e){return ii.fromServerFormat(e.fieldPath)}function Ma(e){return e instanceof vo?function(e){if("=="===e.op){if(ro(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(no(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ro(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(no(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:Aa(e.op),value:e.value}}}(e):e instanceof yo?function(e){const t=e.getFilters().map((e=>Ma(e)));return 1===t.length?t[0]:{compositeFilter:{op:Na(e.op),filters:t}}}(e):Mr()}function La(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Fa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Za{constructor(e,t,n,r,i=ei.min(),o=ei.min(),s=Mi.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ua{constructor(e){this.ct=e}}function Va(e){const t=xa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$o(t,t.limit,"L"):t}class ja{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Zi(e.integerValue));else if("doubleValue"in e){const n=Zi(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Si(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ui(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?so(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Mr()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const e of Object.keys(n))this.Rt(e,t),this.It(n[e],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const e of n)this.It(e,t)}gt(e,t){this.Et(t,37),oi.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}ja.bt=new ja;class Ba{constructor(){this._n=new za}addToCollectionParentIndex(e,t){return this._n.add(t),di.resolve()}getCollectionParents(e,t){return di.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return di.resolve()}deleteFieldIndex(e,t){return di.resolve()}deleteAllFieldIndexes(e){return di.resolve()}createTargetIndexes(e,t){return di.resolve()}getDocumentsMatchingTarget(e,t){return di.resolve(null)}getIndexType(e,t){return di.resolve(0)}getFieldIndexes(e,t){return di.resolve([])}getNextCollectionGroupToUpdate(e){return di.resolve(null)}getMinOffset(e,t){return di.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return di.resolve(ai.min())}updateCollectionGroup(e,t,n){return di.resolve()}updateIndexEntries(e,t){return di.resolve()}}class za{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ai(ni.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ai(ni.comparator)).toArray()}}new Uint8Array(0);class $a{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $a(e,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$a.DEFAULT_COLLECTION_PERCENTILE=10,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$a.DEFAULT=new $a(41943040,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$a.DISABLED=new $a(-1,0,0);class qa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qa(0)}static Bn(){return new qa(-1)}}class Wa{constructor(){this.changes=new Jo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,co.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?di.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ha{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ka{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&As(n.mutation,e,Oi.empty(),Yr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ls()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=ls()){const r=rs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ts();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=rs();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ls())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Yo();const o=os(),s=os();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ms)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),As(s.mutation,t,s.mutation.getFieldMask(),Yr.now())):o.set(t.key,Oi.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Ha(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=os();let r=new xi(((e,t)=>e-t)),i=ls();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Oi.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ls()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=is();l.forEach((e=>{if(!i.has(e)){const r=Rs(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return di.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):di.resolve(rs());let s=-1,a=i;return o.next((t=>di.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?di.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ls()))).next((e=>({batchId:s,changes:ns(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oi(t)).next((e=>{let t=ts();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ts();return this.indexManager.getCollectionParents(e,i).next((s=>di.forEach(s,(s=>{const a=function(e,t){return new Fo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,co.newInvalidDocument(r)))}));let n=ts();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&As(o.mutation,r,Oi.empty(),Yr.now()),Ko(t,r)&&(n=n.insert(e,r))})),n}))}}class Ga{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return di.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ga(e.createTime)}}(t)),di.resolve()}getNamedQuery(e,t){return di.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Va(e.bundledQuery),readTime:ga(e.readTime)}}(t)),di.resolve()}}class Qa{constructor(){this.overlays=new xi(oi.comparator),this.hr=new Map}getOverlay(e,t){return di.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rs();return di.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),di.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),di.resolve()}getOverlaysForCollection(e,t,n){const r=rs(),i=t.length+1,o=new oi(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return di.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new xi(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rs(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=rs(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return di.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zs(t,n));let i=this.hr.get(t);void 0===i&&(i=ls(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Ja{constructor(){this.Pr=new Ai(Xa.Ir),this.Tr=new Ai(Xa.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Xa(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Xa(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new oi(new ni([])),n=new Xa(t,e),r=new Xa(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new oi(new ni([])),n=new Xa(t,e),r=new Xa(t,e+1);let i=ls();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Xa(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xa{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return oi.comparator(e.key,t.key)||Jr(e.pr,t.pr)}static Er(e,t){return Jr(e.pr,t.pr)||oi.comparator(e.key,t.key)}}class Ya{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ai(Xa.Ir)}checkEmpty(e){return di.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new js(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.wr=this.wr.add(new Xa(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return di.resolve(o)}lookupMutationBatch(e,t){return di.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return di.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return di.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return di.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xa(t,0),r=new Xa(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),di.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ai(Jr);return t.forEach((e=>{const t=new Xa(e,0),r=new Xa(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),di.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oi.isDocumentKey(i)||(i=i.child(""));const o=new Xa(new oi(i),0);let s=new Ai(Jr);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),di.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Lr(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return di.forEach(t.mutations,(r=>{const i=new Xa(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Xa(t,0),r=this.wr.firstAfterOrEqual(n);return di.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,di.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class el{constructor(e){this.vr=e,this.docs=new xi(oi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return di.resolve(n?n.document.mutableCopy():co.newInvalidDocument(t))}getEntries(e,t){let n=Yo();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():co.newInvalidDocument(e))})),di.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yo();const o=t.path,s=new oi(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||li(si(s),n)<=0||(r.has(s.key)||Ko(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return di.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mr()}Fr(e,t){return di.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tl(this)}getSize(e){return di.resolve(this.size)}}class tl extends Wa{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),di.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class nl{constructor(e){this.persistence=e,this.Mr=new Jo((e=>Do(e)),Mo),this.lastRemoteSnapshotVersion=ei.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ja,this.targetCount=0,this.Br=qa.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),di.resolve()}getLastRemoteSnapshotVersion(e){return di.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return di.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),di.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),di.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new qa(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,di.resolve()}updateTargetData(e,t){return this.qn(t),di.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,di.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),di.waitFor(i).next((()=>r))}getTargetCount(e){return di.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return di.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),di.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),di.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),di.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return di.resolve(n)}containsKey(e,t){return di.resolve(this.Nr.containsKey(t))}}class rl{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Ti(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new nl(this),this.indexManager=new Ba,this.remoteDocumentCache=function(e){return new el(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ua(t),this.$r=new Ga(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Ya(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Ar("MemoryPersistence","Starting transaction:",e);const r=new il(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return di.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class il extends ui{constructor(e){super(),this.currentSequenceNumber=e}}class ol{constructor(e){this.persistence=e,this.zr=new Ja,this.jr=null}static Hr(e){return new ol(e)}get Jr(){if(this.jr)return this.jr;throw Mr()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),di.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),di.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),di.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return di.forEach(this.Jr,(n=>{const r=oi.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,ei.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return di.or([()=>di.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class sl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=ls(),r=ls();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new sl(e,t.fromCache,n,r)}}class al{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ll{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,a.G6)()?8:fi.v((0,a.z$)())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new al;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Pr()<=s.in.DEBUG&&Ar("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),di.resolve()):(Pr()<=s.in.DEBUG&&Ar("QueryEngine","Query:",Ho(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Pr()<=s.in.DEBUG&&Ar("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(t))):di.resolve())}ji(e,t){if(Uo(t))return di.resolve(null);let n=Bo(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=$o(t,null,"F"),n=Bo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ls(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,$o(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Uo(t)||r.isEqual(ei.min())?di.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?di.resolve(null):(Pr()<=s.in.DEBUG&&Ar("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ho(t)),this.es(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ei.fromTimestamp(1e9===r?new Yr(n+1,0):new Yr(n,r));return new ai(i,oi.empty(),t)}(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Ai(Go(e));return t.forEach(((t,r)=>{Ko(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Pr()<=s.in.DEBUG&&Ar("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.zi.getDocumentsMatchingQuery(e,t,ai.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class cl{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new xi(Jr),this.rs=new Jo((e=>Do(e)),Mo),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ka(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}async function ul(e,t){const n=Fr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=ls();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function hl(e){const t=Fr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function dl(e,t){const n=Fr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function pl(e,t,n){const r=Fr(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!vi(e))throw e;Ar("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function fl(e,t,n){const r=Fr(e);let i=ei.min(),o=ls();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Fr(e),i=r.rs.get(n);return void 0!==i?di.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Bo(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:ei.min(),n?o:ls()))).next((e=>(function(e,t,n){let r=e.ss.get(t)||ei.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,hs:o})))))}class ml{constructor(){this.activeTargetIds=cs}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gl{constructor(){this.no=new ml,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ml,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vl{io(e){}shutdown(){}}class yl{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ar("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ar("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wl=null;function bl(){return null===wl?wl=268435456+Math.round(2147483648*Math.random()):wl++,"0x"+wl.toString(16)}const El={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tl{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const _l="WebChannelConnection";class Sl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po=`projects/${n}/databases/${r}`,this.yo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get wo(){return!1}So(e,t,n,r,i){const o=bl(),s=this.bo(e,t.toUriEncodedString());Ar("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Ar("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Or("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=El[e];return`${this.fo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=bl();return new Promise(((o,s)=>{const a=new _r;a.setWithCredentials(!0),a.listenOnce(wr.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case yr.NO_ERROR:const t=a.getResponseJson();Ar(_l,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case yr.TIMEOUT:Ar(_l,`RPC '${e}' ${i} timed out`),s(new Ur(Zr.DEADLINE_EXCEEDED,"Request time out"));break;case yr.HTTP_ERROR:const n=a.getStatus();if(Ar(_l,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Zr).indexOf(t)>=0?t:Zr.UNKNOWN}(t.status);s(new Ur(e,t.message))}else s(new Ur(Zr.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Ur(Zr.UNAVAILABLE,"Connection failed."));break;default:Mr()}}finally{Ar(_l,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Ar(_l,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=bl(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gr(),s=vr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ar(_l,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const p=new Tl({lo:t=>{d?Ar(_l,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Ar(_l,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),Ar(_l,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},ho:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Tr.EventType.OPEN,(()=>{d||Ar(_l,`RPC '${e}' stream ${r} transport opened.`)})),f(u,Tr.EventType.CLOSE,(()=>{d||(d=!0,Ar(_l,`RPC '${e}' stream ${r} transport closed`),p.Vo())})),f(u,Tr.EventType.ERROR,(t=>{d||(d=!0,Or(_l,`RPC '${e}' stream ${r} transport errored:`,t),p.Vo(new Ur(Zr.UNAVAILABLE,"The operation could not be completed")))})),f(u,Tr.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Lr(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ar(_l,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=qs[e];if(void 0!==t)return Hs(t)}(t),i=s.message;void 0===n&&(n=Zr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,p.Vo(new Ur(n,i)),u.close()}else Ar(_l,`RPC '${e}' stream ${r} received:`,i),p.mo(i)}})),f(s,br.STAT_EVENT,(t=>{t.stat===Er.PROXY?Ar(_l,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Er.NOPROXY&&Ar(_l,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.Ro()}),0),p}}function Il(){return"undefined"!=typeof document?document:null}function Cl(e){return new ha(e,!0)}class kl{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Ar("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class xl{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new kl(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Zr.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Zr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Wo===t&&this.o_(e,n)}),(t=>{e((()=>{const e=new Ur(Zr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Ar("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Ar("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rl extends xl{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Lr(void 0===t||"string"==typeof t),Mi.fromBase64String(t||"")):(Lr(void 0===t||t instanceof Uint8Array),Mi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Zr.UNKNOWN:Hs(e.code);return new Ur(t,e.message||"")}(s);n=new ra(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ea(e,r.document.name),o=ga(r.document.updateTime),s=r.document.createTime?ga(r.document.createTime):ei.min(),a=new ao({mapValue:{fields:r.document.fields}}),l=co.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ta(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ea(e,r.document),o=r.readTime?ga(r.readTime):ei.min(),s=co.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ta([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ea(e,r.document),o=r.removedTargetIds||[];n=new ta([],o,i,null)}else{if(!("filter"in t))return Mr();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new $s(r,i),s=e.targetId;n=new na(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ei.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ei.min():t.readTime?ga(t.readTime):ei.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=_a(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lo(r)?{documents:Ca(e,r)}:{query:ka(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fa(e,t.resumeToken);const r=da(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ei.min())>0){n.readTime=pa(e,t.snapshotVersion.toTimestamp());const r=da(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mr()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=_a(this.serializer),t.removeTarget=e,this.t_(t)}}class Pl extends xl{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Lr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Lr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ga(e.updateTime):ga(t);return n.isEqual(ei.min())&&(n=ga(t)),new Is(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ga(e.commitTime);return this.listener.T_(n,t)}return Lr(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=_a(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Ds)n={update:Ia(e,t.key,t.value)};else if(t instanceof Us)n={delete:ba(e,t.key)};else if(t instanceof Ms)n={update:Ia(e,t.key,t.data),updateMask:La(t.fieldMask)};else{if(!(t instanceof Vs))return Mr();n={verify:ba(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof vs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ys)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ts)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Mr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ma(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mr()}(e,t.precondition)),n}(this.serializer,e)))};this.t_(t)}}class Al extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ur(Zr.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.So(e,ya(t,n),r,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Zr.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.vo(e,ya(t,n),r,o,s,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Zr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ur(Zr.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Nl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Nr(t),this.g_=!1):Ar("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Ol{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Bl(this)&&(Ar("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Fr(e);t.v_.add(4),await Ml(t),t.x_.set("Unknown"),t.v_.delete(4),await Dl(t)}(this))}))})),this.x_=new Nl(n,r)}}async function Dl(e){if(Bl(e))for(const t of e.F_)await t(!0)}async function Ml(e){for(const t of e.F_)await t(!1)}function Ll(e,t){const n=Fr(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),jl(n)?Vl(n):oc(n).Jo()&&Zl(n,t))}function Fl(e,t){const n=Fr(e),r=oc(n);n.C_.delete(t),r.Jo()&&Ul(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Bl(n)&&n.x_.set("Unknown"))}function Zl(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ei.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oc(e).c_(t)}function Ul(e,t){e.O_.Oe(t),oc(e).l_(t)}function Vl(e){e.O_=new oa({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),oc(e).start(),e.x_.p_()}function jl(e){return Bl(e)&&!oc(e).Ho()&&e.C_.size>0}function Bl(e){return 0===Fr(e).v_.size}function zl(e){e.O_=void 0}async function $l(e){e.C_.forEach(((t,n)=>{Zl(e,t)}))}async function ql(e,t){zl(e),jl(e)?(e.x_.S_(t),Vl(e)):e.x_.set("Unknown")}async function Wl(e,t,n){if(e.x_.set("Online"),t instanceof ra&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Ar("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Hl(e,n)}else if(t instanceof ta?e.O_.$e(t):t instanceof na?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(ei.min()))try{const t=await hl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Mi.EMPTY_BYTE_STRING,r.snapshotVersion)),Ul(e,t);const i=new Za(r.target,t,n,r.sequenceNumber);Zl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ar("RemoteStore","Failed to raise snapshot:",t),await Hl(e,t)}}async function Hl(e,t,n){if(!vi(t))throw t;e.v_.add(1),await Ml(e),e.x_.set("Offline"),n||(n=()=>hl(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ar("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Dl(e)}))}function Kl(e,t){return t().catch((n=>Hl(e,n,t)))}async function Gl(e){const t=Fr(e),n=sc(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Ql(t);)try{const e=await dl(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Jl(t,e)}catch(e){await Hl(t,e)}Xl(t)&&Yl(t)}function Ql(e){return Bl(e)&&e.D_.length<10}function Jl(e,t){e.D_.push(t);const n=sc(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Xl(e){return Bl(e)&&!sc(e).Ho()&&e.D_.length>0}function Yl(e){sc(e).start()}async function ec(e){sc(e).d_()}async function tc(e){const t=sc(e);for(const n of e.D_)t.I_(n.mutations)}async function nc(e,t,n){const r=e.D_.shift(),i=Bs.from(r,t,n);await Kl(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Gl(e)}async function rc(e,t){t&&sc(e).P_&&await async function(e,t){if(function(e){return function(e){switch(e){default:return Mr();case Zr.CANCELLED:case Zr.UNKNOWN:case Zr.DEADLINE_EXCEEDED:case Zr.RESOURCE_EXHAUSTED:case Zr.INTERNAL:case Zr.UNAVAILABLE:case Zr.UNAUTHENTICATED:return!1;case Zr.INVALID_ARGUMENT:case Zr.NOT_FOUND:case Zr.ALREADY_EXISTS:case Zr.PERMISSION_DENIED:case Zr.FAILED_PRECONDITION:case Zr.ABORTED:case Zr.OUT_OF_RANGE:case Zr.UNIMPLEMENTED:case Zr.DATA_LOSS:return!0}}(e)&&e!==Zr.ABORTED}(t.code)){const n=e.D_.shift();sc(e).Zo(),await Kl(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Gl(e)}}(e,t),Xl(e)&&Yl(e)}async function ic(e,t){const n=Fr(e);n.asyncQueue.verifyOperationInProgress(),Ar("RemoteStore","RemoteStore received new credentials");const r=Bl(n);n.v_.add(3),await Ml(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Dl(n)}function oc(e){return e.N_||(e.N_=function(e,t,n){const r=Fr(e);return r.R_(),new Rl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:$l.bind(null,e),To:ql.bind(null,e),u_:Wl.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),jl(e)?Vl(e):e.x_.set("Unknown")):(await e.N_.stop(),zl(e))}))),e.N_}function sc(e){return e.B_||(e.B_=function(e,t,n){const r=Fr(e);return r.R_(),new Pl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ec.bind(null,e),To:rc.bind(null,e),E_:tc.bind(null,e),T_:nc.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Gl(e)):(await e.B_.stop(),e.D_.length>0&&(Ar("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))}))),e.B_}class ac{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new ac(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ur(Zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lc(e,t){if(Nr("AsyncQueue",`${t}: ${e}`),vi(e))return new Ur(Zr.UNAVAILABLE,`${t}: ${e}`);throw e}class cc{constructor(e){this.comparator=e?(t,n)=>e(t,n)||oi.comparator(t.key,n.key):(e,t)=>oi.comparator(e.key,t.key),this.keyedMap=ts(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new cc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class uc{constructor(){this.L_=new xi(oi.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Mr():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class hc{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new hc(e,t,cc.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class dc{constructor(){this.q_=void 0,this.Q_=[]}}class pc{constructor(){this.queries=new Jo((e=>Wo(e)),qo),this.onlineState="Unknown",this.K_=new Set}}async function fc(e,t){const n=Fr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new dc),i)try{o.q_=await n.onListen(r)}catch(e){const n=lc(e,`Initialization of query '${Ho(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&yc(n)}async function mc(e,t){const n=Fr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function gc(e,t){const n=Fr(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.Q_)t.W_(e)&&(r=!0);i.q_=e}}r&&yc(n)}function vc(e,t,n){const r=Fr(e),i=r.queries.get(t);if(i)for(const e of i.Q_)e.onError(n);r.queries.delete(t)}function yc(e){e.K_.forEach((e=>{e.next()}))}class wc{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class bc{constructor(e){this.key=e}}class Ec{constructor(e){this.key=e}}class Tc{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ls(),this.mutatedKeys=ls(),this.ua=Go(e),this.ca=new cc(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new uc,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ko(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.ua(u,a)>0||l&&this.ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mr()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,l=a!==this._a;return this._a=a,0!==o.length||l?{snapshot:new hc(this.query,e.ca,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new uc,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ls(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Ec(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new bc(n))})),t}Ra(e){this.oa=e.hs,this.aa=ls();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return hc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class _c{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Sc{constructor(e){this.key=e,this.ma=!1}}class Ic{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Jo((e=>Wo(e)),qo),this.pa=new Map,this.ya=new Set,this.wa=new xi(oi.comparator),this.Sa=new Map,this.ba=new Ja,this.Da={},this.Ca=new Map,this.va=qa.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Cc(e,t){const n=function(e){const t=Fr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pc.bind(null,t),t.fa.u_=gc.bind(null,t.eventManager),t.fa.xa=vc.bind(null,t.eventManager),t}(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,di.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Za(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}(n.localStore,Bo(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await fl(e.localStore,t.query,!1).then((({documents:e})=>t.view.ha(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return Fc(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await fl(e.localStore,t,!0),s=new Tc(t,o.hs),a=s.ha(o.documents),l=ea.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);Fc(e,n,c.da);const u=new _c(t,n,s);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Ll(n.remoteStore,e)}return i}async function kc(e,t){const n=Fr(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!qo(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pl(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Fl(n.remoteStore,r.targetId),Mc(n,r.targetId)})).catch(hi)):(Mc(n,r.targetId),await pl(n.localStore,r.targetId,!0))}async function xc(e,t){const n=Fr(e);try{const e=await function(e,t){const n=Fr(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Mi.EMPTY_BYTE_STRING,ei.min()).withLastLimboFreeSnapshotVersion(ei.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=Yo(),l=ls();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n){let r=ls(),i=ls();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Yo();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(ei.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ar("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(ei.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return di.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Lr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Lr(r.ma):e.removedDocuments.size>0&&(Lr(r.ma),r.ma=!1))})),await Vc(n,e,t)}catch(e){await hi(e)}}function Rc(e,t,n){const r=Fr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Fr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.Q_)e.U_(t)&&(r=!0)})),r&&yc(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pc(e,t,n){const r=Fr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new xi(oi.comparator);e=e.insert(o,co.newNoDocument(o,ei.min()));const n=ls().add(o),i=new Ys(ei.min(),new Map,new xi(Jr),e,n);await xc(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),Uc(r)}else await pl(r.localStore,t,!1).then((()=>Mc(r,t,n))).catch(hi)}async function Ac(e,t){const n=Fr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=di.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Lr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ls();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Dc(n,r,null),Oc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,e)}catch(e){await hi(e)}}async function Nc(e,t,n){const r=Fr(e);try{const e=await function(e,t){const n=Fr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Lr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Dc(r,t,n),Oc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vc(r,e)}catch(n){await hi(n)}}function Oc(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Dc(e,t,n){const r=Fr(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Mc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Lc(e,t)}))}function Lc(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Fl(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Uc(e))}function Fc(e,t,n){for(const r of n)r instanceof bc?(e.ba.addReference(r.key,t),Zc(e,r)):r instanceof Ec?(Ar("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Lc(e,r.key)):Mr()}function Zc(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ar("SyncEngine","New document in limbo: "+n),e.ya.add(r),Uc(e))}function Uc(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new oi(ni.fromString(t)),r=e.va.next();e.Sa.set(r,new Sc(n)),e.wa=e.wa.insert(n,r),Ll(e.remoteStore,new Za(Bo(Zo(n.path)),r,"TargetPurposeLimboResolution",Ti._e))}}async function Vc(e,t,n){const r=Fr(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=sl.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=Fr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>di.forEach(t,(t=>di.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>di.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!vi(e))throw e;Ar("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,o))}async function jc(e,t){const n=Fr(e);if(!n.currentUser.isEqual(t)){Ar("SyncEngine","User change. New user:",t.toKey());const e=await ul(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Ur(Zr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ca.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vc(n,e.us)}}function Bc(e,t){const n=Fr(e),r=n.Sa.get(t);if(r&&r.ma)return ls().add(r.key);{let e=ls();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function zc(e){const t=Fr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nc.bind(null,t),t}class $c{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Cl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,r){return new cl(e,t,n,r)}(this.persistence,new ll,e.initialUser,this.serializer)}createPersistence(e){return new rl(ol.Hr,this.serializer)}createSharedClientState(e){return new gl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jc.bind(null,this.syncEngine),await async function(e,t){const n=Fr(e);t?(n.v_.delete(2),await Dl(n)):t||(n.v_.add(2),await Ml(n),n.x_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new pc}createDatastore(e){const t=Cl(e.databaseInfo.databaseId),n=function(e){return new Sl(e)}(e.databaseInfo);return function(e,t,n,r){return new Al(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ol(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Rc(this.syncEngine,e,0)),yl.D()?new yl:new vl)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Ic(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Fr(e);Ar("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Ml(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Wc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Hc{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=Qr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ar("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ar("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ur(Zr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=lc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Kc(e,t){e.asyncQueue.verifyOperationInProgress(),Ar("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ul(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Gc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ar("FirestoreClient","Using user provided OfflineComponentProvider");try{await Kc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Zr.FAILED_PRECONDITION||e.code===Zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),await Kc(e,new $c)}}else Ar("FirestoreClient","Using default OfflineComponentProvider"),await Kc(e,new $c);return e._offlineComponents}(e);Ar("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ic(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ic(t.remoteStore,n))),e._onlineComponents=t}async function Qc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ar("FirestoreClient","Using user provided OnlineComponentProvider"),await Gc(e,e._uninitializedComponentsProvider._online)):(Ar("FirestoreClient","Using default OnlineComponentProvider"),await Gc(e,new qc))),e._onlineComponents}async function Jc(e){const t=await Qc(e),n=t.eventManager;return n.onListen=Cc.bind(null,t.syncEngine),n.onUnlisten=kc.bind(null,t.syncEngine),n}function Xc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Yc=new Map;function eu(e,t,n){if(!n)throw new Ur(Zr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tu(e){if(!oi.isDocumentKey(e))throw new Ur(Zr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nu(e){if(oi.isDocumentKey(e))throw new Ur(Zr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ru(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Mr()}function iu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ur(Zr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ru(e);throw new Ur(Zr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class ou{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ur(Zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ur(Zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ur(Zr.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ur(Zr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ur(Zr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ur(Zr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ou({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ur(Zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ur(Zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ou(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Br;switch(e.type){case"firstParty":return new Wr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ur(Zr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Yc.get(e);t&&(Ar("ComponentProvider","Removing Datastore"),Yc.delete(e),t.terminate())}(this),Promise.resolve()}}class au{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new au(this.firestore,e,this._query)}}class lu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lu(this.firestore,e,this._key)}}class cu extends au{constructor(e,t,n){super(e,t,Zo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lu(this.firestore,null,new oi(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function uu(e,t,...n){if(e=(0,a.m9)(e),eu("collection","path",t),e instanceof su){const r=ni.fromString(t,...n);return nu(r),new cu(e,null,r)}{if(!(e instanceof lu||e instanceof cu))throw new Ur(Zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ni.fromString(t,...n));return nu(r),new cu(e.firestore,null,r)}}function hu(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=Qr.newId()),eu("doc","path",t),e instanceof su){const r=ni.fromString(t,...n);return tu(r),new lu(e,null,new oi(r))}{if(!(e instanceof lu||e instanceof cu))throw new Ur(Zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ni.fromString(t,...n));return tu(r),new lu(e.firestore,e instanceof cu?e.converter:null,new oi(r))}}class du{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new kl(this,"async_queue_retry"),this._u=()=>{const e=Il();e&&Ar("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Il();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=Il();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Vr;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!vi(e))throw e;Ar("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Nr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=ac.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Mr()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class pu extends su{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new du,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gu(this),this._firestoreClient.terminate()}}function fu(e,t){const n="object"==typeof e?e:(0,i.Mq)(),r="string"==typeof e?e:t||"(default)",o=(0,i.qX)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=(0,a.P0)("firestore");e&&function(e,t,n,r={}){var i;const o=(e=iu(e,su))._getSettings(),s=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kr.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ur(Zr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kr(o)}e._authCredentials=new zr(new jr(t,n))}}(o,...e)}return o}function mu(e){return e._firestoreClient||gu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gu(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new zi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xc(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Hc(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Mi.fromBase64String(e))}catch(e){throw new Ur(Zr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new vu(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ur(Zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wu{constructor(e){this._methodName=e}}class bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ur(Zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ur(Zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jr(this._lat,e._lat)||Jr(this._long,e._long)}}const Eu=/^__.*__$/;class Tu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ds(e,this.data,t,this.fieldTransforms)}}class _u{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Su(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mr()}}class Iu{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Iu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Fu(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Su(this.du)&&Eu.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Cu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cl(e)}Su(e,t,n,r=!1){return new Iu({du:e,methodName:t,wu:n,path:ii.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ku(e){const t=e._freezeSettings(),n=Cl(e._databaseId);return new Cu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xu(e,t,n,r,i,o={}){const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);Ou("Data must be an object, but it was:",s,r);const a=Au(r,s);let l,c;if(o.merge)l=new Oi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Du(t,r,n);if(!s.contains(i))throw new Ur(Zr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Zu(e,i)||e.push(i)}l=new Oi(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Tu(new ao(a),l,c)}class Ru extends wu{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ru}}function Pu(e,t){if(Nu(e=(0,a.m9)(e)))return Ou("Unsupported field value:",t,e),Au(e,t);if(e instanceof wu)return function(e,t){if(!Su(t.du))throw t.pu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.pu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Pu(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ds(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yr.fromDate(e);return{timestampValue:pa(t.serializer,n)}}if(e instanceof Yr){const n=new Yr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pa(t.serializer,n)}}if(e instanceof bu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vu)return{bytesValue:fa(t.serializer,e._byteString)};if(e instanceof lu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:va(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu(`Unsupported field value: ${ru(e)}`)}(e,t)}function Au(e,t){const n={};return ki(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ci(e,((e,r)=>{const i=Pu(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yr||e instanceof bu||e instanceof vu||e instanceof lu||e instanceof wu)}function Ou(e,t,n){if(!Nu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ru(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Du(e,t,n){if((t=(0,a.m9)(t))instanceof yu)return t._internalPath;if("string"==typeof t)return Lu(e,t);throw Fu("Field path arguments must be of type string or ",e,!1,void 0,n)}const Mu=new RegExp("[~\\*/\\[\\]]");function Lu(e,t,n){if(t.search(Mu)>=0)throw Fu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yu(...t.split("."))._internalPath}catch(r){throw Fu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fu(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ur(Zr.INVALID_ARGUMENT,a+e+l)}function Zu(e,t){return e.some((e=>e.isEqual(t)))}class Uu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ju("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vu extends Uu{data(){return super.data()}}function ju(e,t){return"string"==typeof t?Lu(e,t):t instanceof yu?t._internalPath:t._delegate._internalPath}class Bu{}class zu extends Bu{}function $u(e,t,...n){let r=[];t instanceof Bu&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Hu)).length,n=e.filter((e=>e instanceof qu)).length;if(t>1||t>0&&n>0)throw new Ur(Zr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class qu extends zu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qu(e,t,n)}_apply(e){const t=this._parse(e);return Qu(e._query,t),new au(e.firestore,e.converter,zo(e._query,t))}_parse(e){const t=ku(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ur(Zr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Gu(s,o);const t=[];for(const n of s)t.push(Ku(r,e,n));a={arrayValue:{values:t}}}else a=Ku(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Gu(s,o),a=function(e,t,n,r=!1){return Pu(n,e.Su(r?4:3,t))}(n,"where",s,"in"===o||"not-in"===o);return vo.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Wu(e,t,n){const r=t,i=ju("where",e);return qu._create(i,r,n)}class Hu extends Bu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hu(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:yo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Qu(n,e),n=zo(n,e)}(e._query,t),new au(e.firestore,e.converter,zo(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ku(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Ur(Zr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vo(t)&&-1!==n.indexOf("/"))throw new Ur(Zr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ni.fromString(n));if(!oi.isDocumentKey(r))throw new Ur(Zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yi(e,new oi(r))}if(n instanceof lu)return Yi(e,n._key);throw new Ur(Zr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ru(n)}.`)}function Gu(e,t){if(!Array.isArray(e)||0===e.length)throw new Ur(Zr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Qu(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ur(Zr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ur(Zr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Ju{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ci(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new bu(Zi(e.latitude),Zi(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ji(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bi(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ni.fromString(e);Lr(Fa(n));const r=new $i(n.get(1),n.get(3)),i=new oi(n.popFirst(5));return r.isEqual(t)||Nr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class Xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yu extends Uu{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(ju("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class eh extends Yu{data(e={}){return super.data(e)}}class th{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Xu(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new eh(this._firestore,this._userDataWriter,n.key,n,new Xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ur(Zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new eh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Xu(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new eh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Xu(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:nh(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mr()}}function rh(e){e=iu(e,lu);const t=iu(e.firestore,pu);return function(e,t,n={}){const r=new Vr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Wc({next:o=>{t.enqueueAndForget((()=>mc(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ur(Zr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ur(Zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new wc(Zo(n.path),o,{includeMetadataChanges:!0,Z_:!0});return fc(e,s)}(await Jc(e),e.asyncQueue,t,n,r))),r.promise}(mu(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new ih(e);return new Yu(e,i,t._key,r,new Xu(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class ih extends Ju{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lu(this.firestore,null,t)}}function oh(e){e=iu(e,au);const t=iu(e.firestore,pu),n=mu(t),r=new ih(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ur(Zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new Vr;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Wc({next:n=>{t.enqueueAndForget((()=>mc(e,s))),n.fromCache&&"server"===r.source?i.reject(new Ur(Zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new wc(n,o,{includeMetadataChanges:!0,Z_:!0});return fc(e,s)}(await Jc(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new th(t,r,e,n)))}function sh(e,t,n){e=iu(e,lu);const r=iu(e.firestore,pu),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return ch(r,[xu(ku(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cs.none())])}function ah(e,t,n,...r){e=iu(e,lu);const i=iu(e.firestore,pu),o=ku(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof yu?function(e,t,n,r,i,o){const s=e.Su(1,t,n),l=[Du(t,r,n)],c=[i];if(o.length%2!=0)throw new Ur(Zr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)l.push(Du(t,o[e])),c.push(o[e+1]);const u=[],h=ao.empty();for(let e=l.length-1;e>=0;--e)if(!Zu(u,l[e])){const t=l[e];let n=c[e];n=(0,a.m9)(n);const r=s.fu(t);if(n instanceof Ru)u.push(t);else{const e=Pu(n,r);null!=e&&(u.push(t),h.set(t,e))}}const d=new Oi(u);return new _u(h,d,s.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Su(1,t,n);Ou("Data must be an object, but it was:",i,r);const o=[],s=ao.empty();Ci(r,((e,r)=>{const l=Lu(t,e,n);r=(0,a.m9)(r);const c=i.fu(l);if(r instanceof Ru)o.push(l);else{const e=Pu(r,c);null!=e&&(o.push(l),s.set(l,e))}}));const l=new Oi(o);return new _u(s,l,i.fieldTransforms)}(o,"updateDoc",e._key,t),ch(i,[s.toMutation(e._key,Cs.exists(!0))])}function lh(e){return ch(iu(e.firestore,pu),[new Us(e._key,Cs.none())])}function ch(e,t){return function(e,t){const n=new Vr;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zc(e);try{const e=await function(e,t){const n=Fr(e),r=Yr.now(),i=t.reduce(((e,t)=>e.add(t.key)),ls());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Yo(),l=ls();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Ns(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Ms(e.key,t,lo(t.value.mapValue),Cs.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:ns(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new xi(Jr)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vc(r,e.changes),await Gl(r.remoteStore)}catch(e){const t=lc(e,"Failed to persist write");n.reject(t)}}(await function(e){return Qc(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(mu(e),t)}new WeakMap,function(e,t=!0){!function(e){xr=e}(i.Jn),(0,i.Xd)(new o.wA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new pu(new $r(e.getProvider("auth-internal")),new Kr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ur(Zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $i(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,i.KN)(Cr,"4.4.1",e),(0,i.KN)(Cr,"4.4.1","esm2017")}()}}]);